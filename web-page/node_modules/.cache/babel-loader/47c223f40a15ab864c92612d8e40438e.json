{"ast":null,"code":"var _jsxFileName = \"/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js\",\n    _s = $RefreshSig$();\n\n// import { useState, useEffect } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import React from \"react\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from 'material-ui-dropzone';\n// import { common } from '@material-ui/core/colors';\n// import Clear from '@material-ui/icons/Clear';\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     '&:hover': {\n//       backgroundColor: '#ffffff7a',\n//     },\n//   },\n// }))(Button);\n// const axios = require(\"axios\").default;\n// const useStyles = makeStyles((theme) => ({\n//   grow: {\n//     flexGrow: 1,\n//   },\n//   clearButton: {\n//     width: \"-webkit-fill-available\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   root: {\n//     maxWidth: 345,\n//     flexGrow: 1,\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   paper: {\n//     padding: theme.spacing(2),\n//     margin: 'auto',\n//     maxWidth: 500,\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em 1em 0 1em\",\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: 'no-repeat',\n//     backgroundPosition: 'center',\n//     backgroundSize: 'cover',\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: 'transparent',\n//     boxShadow: '0px 9px 70px 0px rgb(0 0 0 / 30%) !important',\n//     borderRadius: '15px',\n//   },\n//   imageCardEmpty: {\n//     height: 'auto',\n//   },\n//   noImage: {\n//     margin: \"auto\",\n//     width: 400,\n//     height: \"400 !important\",\n//   },\n//   input: {\n//     display: 'none',\n//   },\n//   uploadIcon: {\n//     background: 'white',\n//   },\n//   tableContainer: {\n//     backgroundColor: 'transparent !important',\n//     boxShadow: 'none !important',\n//   },\n//   table: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableHead: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableRow: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableCell: {\n//     fontSize: '20px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableCell1: {\n//     fontSize: '14px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableBody: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   text: {\n//     color: 'white !important',\n//     textAlign: 'center',\n//   },\n//   buttonGrid: {\n//     maxWidth: \"416px\",\n//     width: \"100%\",\n//   },\n//   detail: {\n//     backgroundColor: 'white',\n//     display: 'flex',\n//     justifyContent: 'center',\n//     flexDirection: 'column',\n//     alignItems: 'center',\n//   },\n//   appbar: {\n//     background: '#be6a77',\n//     boxShadow: 'none',\n//     color: 'white'\n//   },\n//   loader: {\n//     color: '#be6a77 !important',\n//   }\n// }));\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsloading] = useState(false);\n//   let confidence = 0;\n//   const sendFile = async () => {\n//     if (image) {\n//       let formData = new FormData();\n//       formData.append(\"file\", selectedFile);\n//       let res = await axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_API_URL,\n//         data: formData,\n//       });\n//       if (res.status === 200) {\n//         setData(res.data);\n//       }\n//       setIsloading(false);\n//     }\n//   }\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n//   useEffect(() => {\n//     if (!preview) {\n//       return;\n//     }\n//     setIsloading(true);\n//     sendFile();\n//   }, [preview]);\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       setSelectedFile(undefined);\n//       setImage(false);\n//       setData(undefined);\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n//   if (data) {\n//     confidence = (parseFloat(data.pred_conf) * 100).toFixed(2);\n//   }\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography className={classes.title} variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters={true}>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={`${classes.imageCard} ${!image ? classes.imageCardEmpty : ''}`}>\n//               {image && <CardActionArea>\n//                 <CardMedia\n//                   className={classes.media}\n//                   image={preview}\n//                   component=\"image\"\n//                   title=\"Tomato leaf\"\n//                 />\n//               </CardActionArea>\n//               }\n//               {!image && <CardContent className={classes.content}>\n//                 <DropzoneArea\n//                   acceptedFiles={['image/*']}\n//                   dropzoneText={\"Drag and drop an image of a tomato leaf\"}\n//                   onChange={onSelectFile}\n//                 />\n//               </CardContent>}\n//               {data && <CardContent className={classes.detail}>\n//                 <TableContainer component={Paper} className={classes.tableContainer}>\n//                   <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n//                     <TableHead className={classes.tableHead}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell className={classes.tableCell1}>Label:</TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell1}>Confidence:</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody className={classes.tableBody}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell component=\"th\" scope=\"row\" className={classes.tableCell}>\n//                           {data.pred_class}\n//                         </TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell}>{confidence}%</TableCell>\n//                       </TableRow>\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </CardContent>}\n//               {isLoading && <CardContent className={classes.detail}>\n//                 <CircularProgress color=\"secondary\" className={classes.loader} />\n//                 <Typography className={classes.title} variant=\"h6\" noWrap>\n//                   Processing\n//                 </Typography>\n//               </CardContent>}\n//             </Card>\n//           </Grid>\n//           {data &&\n//             <Grid item className={classes.buttonGrid} >\n//               <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" component=\"span\" size=\"large\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>\n//                 Clear\n//               </ColorButton>\n//             </Grid>}\n//         </Grid >\n//       </Container >\n//     </React.Fragment >\n//   );\n// };\nimport React, { useState } from \"react\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [prediction, setPrediction] = useState(null);\n  const [remedy, setRemedy] = useState(\"\"); // Handle image upload\n\n  const handleImageChange = e => {\n    if (e.target.files && e.target.files[0]) {\n      setSelectedImage(e.target.files[0]);\n      setPrediction(null);\n      setRemedy(\"\");\n    }\n  }; // Send image to model API\n\n\n  const handlePredict = async () => {\n    if (!selectedImage) return;\n    const formData = new FormData();\n    formData.append(\"file\", selectedImage);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/predict\", {\n        method: \"POST\",\n        body: formData\n      });\n      const result = await response.json();\n      setPrediction(result); // Fetch remedies from local JSON file\n\n      const remediesResponse = await fetch(\"/remedies.json\");\n      const remediesData = await remediesResponse.json();\n      const diseaseName = result.class.toLowerCase();\n      const foundRemedy = remediesData[diseaseName] || \"No remedy information available for this disease.\";\n      setRemedy(foundRemedy);\n    } catch (error) {\n      console.error(\"Error during prediction:\", error);\n    }\n  }; // Clear the screen\n\n\n  const handleClear = () => {\n    setSelectedImage(null);\n    setPrediction(null);\n    setRemedy(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Tomato Disease Detection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"tomato-icon.png\",\n        alt: \"logo\",\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: !selectedImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleImageChange,\n          id: \"fileUpload\",\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fileUpload\",\n          className: \"upload-label\",\n          children: \"\\uD83D\\uDCF7 Upload Tomato Leaf Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: URL.createObjectURL(selectedImage),\n          alt: \"Uploaded Leaf\",\n          className: \"uploaded-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this), prediction && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prediction-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Disease\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Confidence\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: prediction.class\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [(prediction.confidence * 100).toFixed(2), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"remedy-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83C\\uDF3F Remedy / Precaution\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: remedy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this), !prediction && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"predict-btn\",\n          onClick: handlePredict,\n          children: \"\\uD83D\\uDD0D Predict Disease\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-btn\",\n          onClick: handleClear,\n          children: \"\\u2716 CLEAR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 356,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"nXsLw5qXoTmgTF4muEhnNZoAqbM=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js"],"names":["React","useState","Home","selectedImage","setSelectedImage","prediction","setPrediction","remedy","setRemedy","handleImageChange","e","target","files","handlePredict","formData","FormData","append","response","fetch","method","body","result","json","remediesResponse","remediesData","diseaseName","class","toLowerCase","foundRemedy","error","console","handleClear","URL","createObjectURL","confidence","toFixed"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","sourcesContent":["// import { useState, useEffect } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import React from \"react\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from 'material-ui-dropzone';\n// import { common } from '@material-ui/core/colors';\n// import Clear from '@material-ui/icons/Clear';\n\n\n\n\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     '&:hover': {\n//       backgroundColor: '#ffffff7a',\n//     },\n//   },\n// }))(Button);\n// const axios = require(\"axios\").default;\n\n// const useStyles = makeStyles((theme) => ({\n//   grow: {\n//     flexGrow: 1,\n//   },\n//   clearButton: {\n//     width: \"-webkit-fill-available\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   root: {\n//     maxWidth: 345,\n//     flexGrow: 1,\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   paper: {\n//     padding: theme.spacing(2),\n//     margin: 'auto',\n//     maxWidth: 500,\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em 1em 0 1em\",\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: 'no-repeat',\n//     backgroundPosition: 'center',\n//     backgroundSize: 'cover',\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: 'transparent',\n//     boxShadow: '0px 9px 70px 0px rgb(0 0 0 / 30%) !important',\n//     borderRadius: '15px',\n//   },\n//   imageCardEmpty: {\n//     height: 'auto',\n//   },\n//   noImage: {\n//     margin: \"auto\",\n//     width: 400,\n//     height: \"400 !important\",\n//   },\n//   input: {\n//     display: 'none',\n//   },\n//   uploadIcon: {\n//     background: 'white',\n//   },\n//   tableContainer: {\n//     backgroundColor: 'transparent !important',\n//     boxShadow: 'none !important',\n//   },\n//   table: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableHead: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableRow: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableCell: {\n//     fontSize: '20px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableCell1: {\n//     fontSize: '14px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableBody: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   text: {\n//     color: 'white !important',\n//     textAlign: 'center',\n//   },\n//   buttonGrid: {\n//     maxWidth: \"416px\",\n//     width: \"100%\",\n//   },\n//   detail: {\n//     backgroundColor: 'white',\n//     display: 'flex',\n//     justifyContent: 'center',\n//     flexDirection: 'column',\n//     alignItems: 'center',\n//   },\n//   appbar: {\n//     background: '#be6a77',\n//     boxShadow: 'none',\n//     color: 'white'\n//   },\n//   loader: {\n//     color: '#be6a77 !important',\n//   }\n// }));\n\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsloading] = useState(false);\n//   let confidence = 0;\n\n//   const sendFile = async () => {\n//     if (image) {\n//       let formData = new FormData();\n//       formData.append(\"file\", selectedFile);\n//       let res = await axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_API_URL,\n//         data: formData,\n//       });\n//       if (res.status === 200) {\n//         setData(res.data);\n//       }\n//       setIsloading(false);\n//     }\n//   }\n\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n\n//   useEffect(() => {\n//     if (!preview) {\n//       return;\n//     }\n//     setIsloading(true);\n//     sendFile();\n//   }, [preview]);\n\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       setSelectedFile(undefined);\n//       setImage(false);\n//       setData(undefined);\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n\n//   if (data) {\n//     confidence = (parseFloat(data.pred_conf) * 100).toFixed(2);\n//   }\n\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography className={classes.title} variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters={true}>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={`${classes.imageCard} ${!image ? classes.imageCardEmpty : ''}`}>\n//               {image && <CardActionArea>\n//                 <CardMedia\n//                   className={classes.media}\n//                   image={preview}\n//                   component=\"image\"\n//                   title=\"Tomato leaf\"\n//                 />\n//               </CardActionArea>\n//               }\n//               {!image && <CardContent className={classes.content}>\n//                 <DropzoneArea\n//                   acceptedFiles={['image/*']}\n//                   dropzoneText={\"Drag and drop an image of a tomato leaf\"}\n//                   onChange={onSelectFile}\n//                 />\n//               </CardContent>}\n//               {data && <CardContent className={classes.detail}>\n//                 <TableContainer component={Paper} className={classes.tableContainer}>\n//                   <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n//                     <TableHead className={classes.tableHead}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell className={classes.tableCell1}>Label:</TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell1}>Confidence:</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody className={classes.tableBody}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell component=\"th\" scope=\"row\" className={classes.tableCell}>\n//                           {data.pred_class}\n//                         </TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell}>{confidence}%</TableCell>\n//                       </TableRow>\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </CardContent>}\n//               {isLoading && <CardContent className={classes.detail}>\n//                 <CircularProgress color=\"secondary\" className={classes.loader} />\n//                 <Typography className={classes.title} variant=\"h6\" noWrap>\n//                   Processing\n//                 </Typography>\n//               </CardContent>}\n//             </Card>\n//           </Grid>\n//           {data &&\n//             <Grid item className={classes.buttonGrid} >\n\n//               <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" component=\"span\" size=\"large\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>\n//                 Clear\n//               </ColorButton>\n//             </Grid>}\n//         </Grid >\n//       </Container >\n//     </React.Fragment >\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\nimport React, { useState } from \"react\";\nimport \"./index.css\";\n\nconst Home = () => {\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [prediction, setPrediction] = useState(null);\n  const [remedy, setRemedy] = useState(\"\");\n\n  // Handle image upload\n  const handleImageChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      setSelectedImage(e.target.files[0]);\n      setPrediction(null);\n      setRemedy(\"\");\n    }\n  };\n\n  // Send image to model API\n  const handlePredict = async () => {\n    if (!selectedImage) return;\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedImage);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/predict\", {\n        method: \"POST\",\n        body: formData,\n      });\n      const result = await response.json();\n\n      setPrediction(result);\n\n      // Fetch remedies from local JSON file\n      const remediesResponse = await fetch(\"/remedies.json\");\n      const remediesData = await remediesResponse.json();\n\n      const diseaseName = result.class.toLowerCase();\n      const foundRemedy =\n        remediesData[diseaseName] ||\n        \"No remedy information available for this disease.\";\n\n      setRemedy(foundRemedy);\n    } catch (error) {\n      console.error(\"Error during prediction:\", error);\n    }\n  };\n\n  // Clear the screen\n  const handleClear = () => {\n    setSelectedImage(null);\n    setPrediction(null);\n    setRemedy(\"\");\n  };\n\n  return (\n    <div className=\"app-container\">\n      <header className=\"navbar\">\n        <h2>Tomato Disease Detection</h2>\n        <img\n          src=\"tomato-icon.png\"\n          alt=\"logo\"\n          className=\"logo\"\n        />\n      </header>\n\n      <div className=\"content\">\n        {!selectedImage ? (\n          <div className=\"upload-section\">\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageChange}\n              id=\"fileUpload\"\n              hidden\n            />\n            <label htmlFor=\"fileUpload\" className=\"upload-label\">\n              üì∑ Upload Tomato Leaf Image\n            </label>\n          </div>\n        ) : (\n          <div className=\"result-card\">\n            <img\n              src={URL.createObjectURL(selectedImage)}\n              alt=\"Uploaded Leaf\"\n              className=\"uploaded-image\"\n            />\n\n            {prediction && (\n              <div className=\"prediction-section\">\n                <table>\n                  <thead>\n                    <tr>\n                      <th>Disease</th>\n                      <th>Confidence</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td>{prediction.class}</td>\n                      <td>{(prediction.confidence * 100).toFixed(2)}%</td>\n                    </tr>\n                  </tbody>\n                </table>\n\n                <div className=\"remedy-section\">\n                  <h4>üåø Remedy / Precaution</h4>\n                  <p>{remedy}</p>\n                </div>\n              </div>\n            )}\n\n            {!prediction && (\n              <button className=\"predict-btn\" onClick={handlePredict}>\n                üîç Predict Disease\n              </button>\n            )}\n\n            <button className=\"clear-btn\" onClick={handleClear}>\n              ‚úñ CLEAR\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}