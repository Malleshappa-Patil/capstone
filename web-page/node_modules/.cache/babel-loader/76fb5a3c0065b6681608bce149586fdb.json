{"ast":null,"code":"var _jsxFileName = \"/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js\",\n    _s = $RefreshSig$();\n\n// import { useState, useEffect } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import React from \"react\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from 'material-ui-dropzone';\n// import { common } from '@material-ui/core/colors';\n// import Clear from '@material-ui/icons/Clear';\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     '&:hover': {\n//       backgroundColor: '#ffffff7a',\n//     },\n//   },\n// }))(Button);\n// const axios = require(\"axios\").default;\n// const useStyles = makeStyles((theme) => ({\n//   grow: {\n//     flexGrow: 1,\n//   },\n//   clearButton: {\n//     width: \"-webkit-fill-available\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   root: {\n//     maxWidth: 345,\n//     flexGrow: 1,\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   paper: {\n//     padding: theme.spacing(2),\n//     margin: 'auto',\n//     maxWidth: 500,\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em 1em 0 1em\",\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: 'no-repeat',\n//     backgroundPosition: 'center',\n//     backgroundSize: 'cover',\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: 'transparent',\n//     boxShadow: '0px 9px 70px 0px rgb(0 0 0 / 30%) !important',\n//     borderRadius: '15px',\n//   },\n//   imageCardEmpty: {\n//     height: 'auto',\n//   },\n//   noImage: {\n//     margin: \"auto\",\n//     width: 400,\n//     height: \"400 !important\",\n//   },\n//   input: {\n//     display: 'none',\n//   },\n//   uploadIcon: {\n//     background: 'white',\n//   },\n//   tableContainer: {\n//     backgroundColor: 'transparent !important',\n//     boxShadow: 'none !important',\n//   },\n//   table: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableHead: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableRow: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableCell: {\n//     fontSize: '20px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableCell1: {\n//     fontSize: '14px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableBody: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   text: {\n//     color: 'white !important',\n//     textAlign: 'center',\n//   },\n//   buttonGrid: {\n//     maxWidth: \"416px\",\n//     width: \"100%\",\n//   },\n//   detail: {\n//     backgroundColor: 'white',\n//     display: 'flex',\n//     justifyContent: 'center',\n//     flexDirection: 'column',\n//     alignItems: 'center',\n//   },\n//   appbar: {\n//     background: '#be6a77',\n//     boxShadow: 'none',\n//     color: 'white'\n//   },\n//   loader: {\n//     color: '#be6a77 !important',\n//   }\n// }));\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsloading] = useState(false);\n//   let confidence = 0;\n//   const sendFile = async () => {\n//     if (image) {\n//       let formData = new FormData();\n//       formData.append(\"file\", selectedFile);\n//       let res = await axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_API_URL,\n//         data: formData,\n//       });\n//       if (res.status === 200) {\n//         setData(res.data);\n//       }\n//       setIsloading(false);\n//     }\n//   }\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n//   useEffect(() => {\n//     if (!preview) {\n//       return;\n//     }\n//     setIsloading(true);\n//     sendFile();\n//   }, [preview]);\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       setSelectedFile(undefined);\n//       setImage(false);\n//       setData(undefined);\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n//   if (data) {\n//     confidence = (parseFloat(data.pred_conf) * 100).toFixed(2);\n//   }\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography className={classes.title} variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters={true}>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={`${classes.imageCard} ${!image ? classes.imageCardEmpty : ''}`}>\n//               {image && <CardActionArea>\n//                 <CardMedia\n//                   className={classes.media}\n//                   image={preview}\n//                   component=\"image\"\n//                   title=\"Tomato leaf\"\n//                 />\n//               </CardActionArea>\n//               }\n//               {!image && <CardContent className={classes.content}>\n//                 <DropzoneArea\n//                   acceptedFiles={['image/*']}\n//                   dropzoneText={\"Drag and drop an image of a tomato leaf\"}\n//                   onChange={onSelectFile}\n//                 />\n//               </CardContent>}\n//               {data && <CardContent className={classes.detail}>\n//                 <TableContainer component={Paper} className={classes.tableContainer}>\n//                   <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n//                     <TableHead className={classes.tableHead}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell className={classes.tableCell1}>Label:</TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell1}>Confidence:</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody className={classes.tableBody}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell component=\"th\" scope=\"row\" className={classes.tableCell}>\n//                           {data.pred_class}\n//                         </TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell}>{confidence}%</TableCell>\n//                       </TableRow>\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </CardContent>}\n//               {isLoading && <CardContent className={classes.detail}>\n//                 <CircularProgress color=\"secondary\" className={classes.loader} />\n//                 <Typography className={classes.title} variant=\"h6\" noWrap>\n//                   Processing\n//                 </Typography>\n//               </CardContent>}\n//             </Card>\n//           </Grid>\n//           {data &&\n//             <Grid item className={classes.buttonGrid} >\n//               <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" component=\"span\" size=\"large\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>\n//                 Clear\n//               </ColorButton>\n//             </Grid>}\n//         </Grid >\n//       </Container >\n//     </React.Fragment >\n//   );\n// };\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Container from \"@material-ui/core/Container\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\nimport tomatoImg from \"./tomato.jpg\";\nimport bgImg from \"./bg.png\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { common } from \"@material-ui/core/colors\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ColorButton = withStyles(theme => ({\n  root: {\n    color: theme.palette.getContrastText(common.white),\n    backgroundColor: common.white,\n    \"&:hover\": {\n      backgroundColor: \"#ffffff7a\"\n    }\n  }\n}))(Button);\n_c = ColorButton;\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1\n  },\n  clearButton: {\n    width: \"100%\",\n    borderRadius: \"15px\",\n    padding: \"15px 22px\",\n    color: \"#000000a6\",\n    fontSize: \"20px\",\n    fontWeight: 900\n  },\n  mainContainer: {\n    backgroundImage: `url(${bgImg})`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    height: \"93vh\",\n    marginTop: \"8px\"\n  },\n  gridContainer: {\n    justifyContent: \"center\",\n    padding: \"1em\"\n  },\n  imageCard: {\n    margin: \"auto\",\n    maxWidth: 400,\n    height: 500,\n    backgroundColor: \"transparent\",\n    boxShadow: \"0px 9px 70px 0px rgb(0 0 0 / 30%) !important\",\n    borderRadius: \"15px\"\n  },\n  media: {\n    height: 400\n  },\n  appbar: {\n    background: \"#be6a77\",\n    boxShadow: \"none\",\n    color: \"white\"\n  },\n  loader: {\n    color: \"#be6a77 !important\"\n  },\n  tableCell: {\n    fontSize: \"18px\",\n    color: \"#000000a6 !important\",\n    fontWeight: \"bolder\",\n    backgroundColor: \"transparent !important\"\n  },\n  text: {\n    color: \"white !important\",\n    textAlign: \"center\"\n  },\n  detail: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  buttonGrid: {\n    maxWidth: \"416px\",\n    width: \"100%\"\n  }\n}));\nexport const ImageUpload = () => {\n  _s();\n\n  var _getPredClass;\n\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState();\n  const [preview, setPreview] = useState();\n  const [data, setData] = useState(); // raw response from /predict\n\n  const [image, setImage] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [remediesMap, setRemediesMap] = useState(null); // map loaded from /remedies endpoint\n\n  const API_URL = \"http://localhost:8000/predict\";\n  const REMEDIES_URL = \"http://localhost:8000/remedies\"; // Try to fetch /remedies on mount — optional fallback if backend didn't attach remedy in /predict\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchRemedies = async () => {\n      try {\n        const res = await axios.get(REMEDIES_URL, {\n          timeout: 3000\n        });\n\n        if (mounted && res.status === 200) {\n          setRemediesMap(res.data);\n        }\n      } catch (err) {\n        // It's okay if this fails — we'll fallback to data.remedy from /predict\n        console.warn(\"Could not fetch /remedies (frontend fallback).\", (err === null || err === void 0 ? void 0 : err.message) || err);\n      }\n    };\n\n    fetchRemedies();\n    return () => {\n      mounted = false;\n    };\n  }, []); // Send image to backend\n\n  const sendFile = useCallback(async () => {\n    if (image && selectedFile) {\n      try {\n        setIsLoading(true);\n        const formData = new FormData();\n        formData.append(\"file\", selectedFile);\n        const res = await axios.post(API_URL, formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          },\n          timeout: 20000\n        });\n\n        if (res.status === 200) {\n          // store entire response payload\n          setData(res.data); // If predict did NOT include remedy, but we have remediesMap, attach it locally\n          // (this avoids changing backend)\n\n          if ((!res.data.remedy || Object.keys(res.data.remedy).length === 0) && remediesMap) {\n            const predClass = res.data.pred_class || res.data.predicted_class || res.data.predClass;\n\n            if (predClass && remediesMap[predClass]) {\n              // merge remedy into local data display\n              setData(prev => ({ ...prev,\n                remedy: remediesMap[predClass]\n              }));\n            }\n          }\n        } else {\n          alert(\"Prediction failed. Check backend logs.\");\n        }\n      } catch (error) {\n        console.error(\"Prediction Error:\", error);\n        alert(\"Prediction failed. Check backend server or model endpoint.\");\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  }, [image, selectedFile, remediesMap]);\n\n  const clearData = () => {\n    setData(null);\n    setImage(false);\n    setSelectedFile(null);\n    setPreview(null);\n  }; // preview object URL\n\n\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]); // auto-send once preview is ready (same behavior as before)\n\n  useEffect(() => {\n    if (preview) sendFile();\n  }, [preview, sendFile]);\n\n  const onSelectFile = files => {\n    if (!files || files.length === 0) {\n      clearData();\n      return;\n    }\n\n    setSelectedFile(files[0]);\n    setData(undefined);\n    setImage(true);\n  }; // Robust helpers to handle different backend key names\n\n\n  const getPredClass = () => {\n    if (!data) return null;\n    return data.pred_class || data.predicted_class || data.predClass || null;\n  };\n\n  const getConfidenceValue = () => {\n    var _ref, _ref2, _ref3, _data$pred_conf;\n\n    if (!data) return null; // backend used pred_conf or confidence etc.\n\n    const v = (_ref = (_ref2 = (_ref3 = (_data$pred_conf = data.pred_conf) !== null && _data$pred_conf !== void 0 ? _data$pred_conf : data.confidence) !== null && _ref3 !== void 0 ? _ref3 : data.pred_confidence) !== null && _ref2 !== void 0 ? _ref2 : data.score) !== null && _ref !== void 0 ? _ref : null;\n    if (v === null || v === undefined) return null;\n    const num = Number(v);\n    if (Number.isNaN(num)) return null;\n    return num;\n  };\n\n  const confidenceVal = getConfidenceValue();\n  const confidenceDisplay = confidenceVal === null ? \"0.00\" : (confidenceVal * 100).toFixed(2); // Render remedy content (data.remedy may be string or object). Return JSX.\n\n  const renderRemedyContent = () => {\n    const remedyFromPredict = data === null || data === void 0 ? void 0 : data.remedy; // If backend included remedy object, use it\n\n    const remedy = remedyFromPredict && Object.keys(remedyFromPredict).length ? remedyFromPredict : null; // If no remedy in predict but we fetched remediesMap, lookup by predicted class\n\n    const predClass = getPredClass();\n    const remedyFromMap = remediesMap && predClass ? remediesMap[predClass] || remediesMap[predClass.replace(/ /g, \"-\")] : null;\n    const finalRemedy = remedy || remedyFromMap || null;\n    if (!finalRemedy) return /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      style: {\n        color: \"white\"\n      },\n      children: \"No remedy information available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 30\n    }, this); // finalRemedy might be a string or an object\n\n    if (typeof finalRemedy === \"string\") {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        style: {\n          color: \"white\"\n        },\n        children: finalRemedy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 14\n      }, this);\n    } // object case: show title, short_description, treatment_steps, prevention, warning\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1.5em\",\n        color: \"white\"\n      },\n      children: [finalRemedy.title && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: finalRemedy.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 31\n      }, this), finalRemedy.short_description && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        children: finalRemedy.short_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 43\n      }, this), finalRemedy.treatment_steps && Array.isArray(finalRemedy.treatment_steps) && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          gutterBottom: true,\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Treatment Steps:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            textAlign: \"left\",\n            color: \"white\"\n          },\n          children: finalRemedy.treatment_steps.map((step, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [step.step ? /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [step.step, \". \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 34\n              }, this) : null, step.action || \"\", \" \", step.details ? `— ${step.details}` : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 19\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalRemedy.prevention && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          gutterBottom: true,\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Prevention:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          paragraph: true,\n          children: Array.isArray(finalRemedy.prevention) ? finalRemedy.prevention.join(\"; \") : finalRemedy.prevention\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), finalRemedy.warning && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        style: {\n          color: \"#ffcccb\"\n        },\n        children: [\"\\u26A0\\uFE0F \", finalRemedy.warning]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      className: classes.appbar,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          children: \"Tomato Disease Detection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.grow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n          src: tomatoImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: false,\n      className: classes.mainContainer,\n      disableGutters: true,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        className: classes.gridContainer,\n        container: true,\n        direction: \"row\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.imageCard,\n            children: [image && !isLoading && preview && /*#__PURE__*/_jsxDEV(CardActionArea, {\n              children: /*#__PURE__*/_jsxDEV(CardMedia, {\n                className: classes.media,\n                image: preview,\n                component: \"img\",\n                title: \"Tomato leaf\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 17\n            }, this), !image && !isLoading && /*#__PURE__*/_jsxDEV(CardContent, {\n              children: /*#__PURE__*/_jsxDEV(DropzoneArea, {\n                acceptedFiles: [\"image/*\"],\n                dropzoneText: \"Drag and drop a tomato leaf image here\",\n                onChange: onSelectFile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), isLoading && /*#__PURE__*/_jsxDEV(CardContent, {\n              className: classes.detail,\n              children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"secondary\",\n                className: classes.loader\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: \"Processing...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 17\n            }, this), data && !isLoading && /*#__PURE__*/_jsxDEV(CardContent, {\n              className: classes.detail,\n              children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n                component: Paper,\n                elevation: 0,\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  size: \"small\",\n                  children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                    children: /*#__PURE__*/_jsxDEV(TableRow, {\n                      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                        className: classes.tableCell,\n                        children: \"Disease\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 614,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        className: classes.tableCell,\n                        children: \"Confidence\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 615,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                    children: /*#__PURE__*/_jsxDEV(TableRow, {\n                      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                        className: classes.tableCell,\n                        children: (_getPredClass = getPredClass()) !== null && _getPredClass !== void 0 ? _getPredClass : \"Unknown\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 620,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                        align: \"right\",\n                        className: classes.tableCell,\n                        children: [confidenceDisplay, \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 621,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 619,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 19\n              }, this), renderRemedyContent()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this), data && !isLoading && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          className: classes.buttonGrid,\n          children: /*#__PURE__*/_jsxDEV(ColorButton, {\n            variant: \"contained\",\n            className: classes.clearButton,\n            color: \"primary\",\n            onClick: clearData,\n            startIcon: /*#__PURE__*/_jsxDEV(Clear, {\n              fontSize: \"large\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 127\n            }, this),\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 576,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ImageUpload, \"Xqe/yqiA6N/2Q3ELig9Gpcio3uw=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = ImageUpload;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ColorButton\");\n$RefreshReg$(_c2, \"ImageUpload\");","map":{"version":3,"sources":["/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js"],"names":["React","useState","useEffect","useCallback","makeStyles","withStyles","AppBar","Toolbar","Typography","Avatar","Container","Card","CardContent","Paper","CardActionArea","CardMedia","Grid","TableContainer","Table","TableBody","TableHead","TableRow","TableCell","Button","CircularProgress","tomatoImg","bgImg","DropzoneArea","common","Clear","axios","ColorButton","theme","root","color","palette","getContrastText","white","backgroundColor","useStyles","grow","flexGrow","clearButton","width","borderRadius","padding","fontSize","fontWeight","mainContainer","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","height","marginTop","gridContainer","justifyContent","imageCard","margin","maxWidth","boxShadow","media","appbar","background","loader","tableCell","text","textAlign","detail","display","flexDirection","alignItems","buttonGrid","ImageUpload","classes","selectedFile","setSelectedFile","preview","setPreview","data","setData","image","setImage","isLoading","setIsLoading","remediesMap","setRemediesMap","API_URL","REMEDIES_URL","mounted","fetchRemedies","res","get","timeout","status","err","console","warn","message","sendFile","formData","FormData","append","post","headers","remedy","Object","keys","length","predClass","pred_class","predicted_class","prev","alert","error","clearData","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","onSelectFile","files","getPredClass","getConfidenceValue","v","pred_conf","confidence","pred_confidence","score","num","Number","isNaN","confidenceVal","confidenceDisplay","toFixed","renderRemedyContent","remedyFromPredict","remedyFromMap","replace","finalRemedy","title","short_description","treatment_steps","Array","isArray","map","step","idx","action","details","prevention","join","warning"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","sourcesContent":["// import { useState, useEffect } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import React from \"react\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from 'material-ui-dropzone';\n// import { common } from '@material-ui/core/colors';\n// import Clear from '@material-ui/icons/Clear';\n\n\n\n\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     '&:hover': {\n//       backgroundColor: '#ffffff7a',\n//     },\n//   },\n// }))(Button);\n// const axios = require(\"axios\").default;\n\n// const useStyles = makeStyles((theme) => ({\n//   grow: {\n//     flexGrow: 1,\n//   },\n//   clearButton: {\n//     width: \"-webkit-fill-available\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   root: {\n//     maxWidth: 345,\n//     flexGrow: 1,\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   paper: {\n//     padding: theme.spacing(2),\n//     margin: 'auto',\n//     maxWidth: 500,\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em 1em 0 1em\",\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: 'no-repeat',\n//     backgroundPosition: 'center',\n//     backgroundSize: 'cover',\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: 'transparent',\n//     boxShadow: '0px 9px 70px 0px rgb(0 0 0 / 30%) !important',\n//     borderRadius: '15px',\n//   },\n//   imageCardEmpty: {\n//     height: 'auto',\n//   },\n//   noImage: {\n//     margin: \"auto\",\n//     width: 400,\n//     height: \"400 !important\",\n//   },\n//   input: {\n//     display: 'none',\n//   },\n//   uploadIcon: {\n//     background: 'white',\n//   },\n//   tableContainer: {\n//     backgroundColor: 'transparent !important',\n//     boxShadow: 'none !important',\n//   },\n//   table: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableHead: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableRow: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableCell: {\n//     fontSize: '20px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableCell1: {\n//     fontSize: '14px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableBody: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   text: {\n//     color: 'white !important',\n//     textAlign: 'center',\n//   },\n//   buttonGrid: {\n//     maxWidth: \"416px\",\n//     width: \"100%\",\n//   },\n//   detail: {\n//     backgroundColor: 'white',\n//     display: 'flex',\n//     justifyContent: 'center',\n//     flexDirection: 'column',\n//     alignItems: 'center',\n//   },\n//   appbar: {\n//     background: '#be6a77',\n//     boxShadow: 'none',\n//     color: 'white'\n//   },\n//   loader: {\n//     color: '#be6a77 !important',\n//   }\n// }));\n\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsloading] = useState(false);\n//   let confidence = 0;\n\n//   const sendFile = async () => {\n//     if (image) {\n//       let formData = new FormData();\n//       formData.append(\"file\", selectedFile);\n//       let res = await axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_API_URL,\n//         data: formData,\n//       });\n//       if (res.status === 200) {\n//         setData(res.data);\n//       }\n//       setIsloading(false);\n//     }\n//   }\n\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n\n//   useEffect(() => {\n//     if (!preview) {\n//       return;\n//     }\n//     setIsloading(true);\n//     sendFile();\n//   }, [preview]);\n\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       setSelectedFile(undefined);\n//       setImage(false);\n//       setData(undefined);\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n\n//   if (data) {\n//     confidence = (parseFloat(data.pred_conf) * 100).toFixed(2);\n//   }\n\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography className={classes.title} variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters={true}>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={`${classes.imageCard} ${!image ? classes.imageCardEmpty : ''}`}>\n//               {image && <CardActionArea>\n//                 <CardMedia\n//                   className={classes.media}\n//                   image={preview}\n//                   component=\"image\"\n//                   title=\"Tomato leaf\"\n//                 />\n//               </CardActionArea>\n//               }\n//               {!image && <CardContent className={classes.content}>\n//                 <DropzoneArea\n//                   acceptedFiles={['image/*']}\n//                   dropzoneText={\"Drag and drop an image of a tomato leaf\"}\n//                   onChange={onSelectFile}\n//                 />\n//               </CardContent>}\n//               {data && <CardContent className={classes.detail}>\n//                 <TableContainer component={Paper} className={classes.tableContainer}>\n//                   <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n//                     <TableHead className={classes.tableHead}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell className={classes.tableCell1}>Label:</TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell1}>Confidence:</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody className={classes.tableBody}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell component=\"th\" scope=\"row\" className={classes.tableCell}>\n//                           {data.pred_class}\n//                         </TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell}>{confidence}%</TableCell>\n//                       </TableRow>\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </CardContent>}\n//               {isLoading && <CardContent className={classes.detail}>\n//                 <CircularProgress color=\"secondary\" className={classes.loader} />\n//                 <Typography className={classes.title} variant=\"h6\" noWrap>\n//                   Processing\n//                 </Typography>\n//               </CardContent>}\n//             </Card>\n//           </Grid>\n//           {data &&\n//             <Grid item className={classes.buttonGrid} >\n\n//               <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" component=\"span\" size=\"large\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>\n//                 Clear\n//               </ColorButton>\n//             </Grid>}\n//         </Grid >\n//       </Container >\n//     </React.Fragment >\n//   );\n// };\n\n\n\n\n\n\n\n\n\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Container from \"@material-ui/core/Container\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {\n  Paper,\n  CardActionArea,\n  CardMedia,\n  Grid,\n  TableContainer,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n  TableCell,\n  Button,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport tomatoImg from \"./tomato.jpg\";\nimport bgImg from \"./bg.png\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { common } from \"@material-ui/core/colors\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport axios from \"axios\";\n\nconst ColorButton = withStyles((theme) => ({\n  root: {\n    color: theme.palette.getContrastText(common.white),\n    backgroundColor: common.white,\n    \"&:hover\": {\n      backgroundColor: \"#ffffff7a\",\n    },\n  },\n}))(Button);\n\nconst useStyles = makeStyles((theme) => ({\n  grow: { flexGrow: 1 },\n  clearButton: {\n    width: \"100%\",\n    borderRadius: \"15px\",\n    padding: \"15px 22px\",\n    color: \"#000000a6\",\n    fontSize: \"20px\",\n    fontWeight: 900,\n  },\n  mainContainer: {\n    backgroundImage: `url(${bgImg})`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    height: \"93vh\",\n    marginTop: \"8px\",\n  },\n  gridContainer: {\n    justifyContent: \"center\",\n    padding: \"1em\",\n  },\n  imageCard: {\n    margin: \"auto\",\n    maxWidth: 400,\n    height: 500,\n    backgroundColor: \"transparent\",\n    boxShadow: \"0px 9px 70px 0px rgb(0 0 0 / 30%) !important\",\n    borderRadius: \"15px\",\n  },\n  media: {\n    height: 400,\n  },\n  appbar: {\n    background: \"#be6a77\",\n    boxShadow: \"none\",\n    color: \"white\",\n  },\n  loader: {\n    color: \"#be6a77 !important\",\n  },\n  tableCell: {\n    fontSize: \"18px\",\n    color: \"#000000a6 !important\",\n    fontWeight: \"bolder\",\n    backgroundColor: \"transparent !important\",\n  },\n  text: {\n    color: \"white !important\",\n    textAlign: \"center\",\n  },\n  detail: {\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  buttonGrid: {\n    maxWidth: \"416px\",\n    width: \"100%\",\n  }\n}));\n\nexport const ImageUpload = () => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState();\n  const [preview, setPreview] = useState();\n  const [data, setData] = useState(); // raw response from /predict\n  const [image, setImage] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [remediesMap, setRemediesMap] = useState(null); // map loaded from /remedies endpoint\n  const API_URL = \"http://localhost:8000/predict\";\n  const REMEDIES_URL = \"http://localhost:8000/remedies\";\n\n  // Try to fetch /remedies on mount — optional fallback if backend didn't attach remedy in /predict\n  useEffect(() => {\n    let mounted = true;\n    const fetchRemedies = async () => {\n      try {\n        const res = await axios.get(REMEDIES_URL, { timeout: 3000 });\n        if (mounted && res.status === 200) {\n          setRemediesMap(res.data);\n        }\n      } catch (err) {\n        // It's okay if this fails — we'll fallback to data.remedy from /predict\n        console.warn(\"Could not fetch /remedies (frontend fallback).\", err?.message || err);\n      }\n    };\n    fetchRemedies();\n    return () => { mounted = false; };\n  }, []);\n\n  // Send image to backend\n  const sendFile = useCallback(async () => {\n    if (image && selectedFile) {\n      try {\n        setIsLoading(true);\n        const formData = new FormData();\n        formData.append(\"file\", selectedFile);\n\n        const res = await axios.post(API_URL, formData, {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n          timeout: 20000,\n        });\n\n        if (res.status === 200) {\n          // store entire response payload\n          setData(res.data);\n\n          // If predict did NOT include remedy, but we have remediesMap, attach it locally\n          // (this avoids changing backend)\n          if ((!res.data.remedy || Object.keys(res.data.remedy).length === 0) && remediesMap) {\n            const predClass =\n              res.data.pred_class || res.data.predicted_class || res.data.predClass;\n            if (predClass && remediesMap[predClass]) {\n              // merge remedy into local data display\n              setData(prev => ({ ...prev, remedy: remediesMap[predClass] }));\n            }\n          }\n        } else {\n          alert(\"Prediction failed. Check backend logs.\");\n        }\n      } catch (error) {\n        console.error(\"Prediction Error:\", error);\n        alert(\"Prediction failed. Check backend server or model endpoint.\");\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  }, [image, selectedFile, remediesMap]);\n\n  const clearData = () => {\n    setData(null);\n    setImage(false);\n    setSelectedFile(null);\n    setPreview(null);\n  };\n\n  // preview object URL\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]);\n\n  // auto-send once preview is ready (same behavior as before)\n  useEffect(() => {\n    if (preview) sendFile();\n  }, [preview, sendFile]);\n\n  const onSelectFile = (files) => {\n    if (!files || files.length === 0) {\n      clearData();\n      return;\n    }\n    setSelectedFile(files[0]);\n    setData(undefined);\n    setImage(true);\n  };\n\n  // Robust helpers to handle different backend key names\n  const getPredClass = () => {\n    if (!data) return null;\n    return data.pred_class || data.predicted_class || data.predClass || null;\n  };\n  const getConfidenceValue = () => {\n    if (!data) return null;\n    // backend used pred_conf or confidence etc.\n    const v = data.pred_conf ?? data.confidence ?? data.pred_confidence ?? data.score ?? null;\n    if (v === null || v === undefined) return null;\n    const num = Number(v);\n    if (Number.isNaN(num)) return null;\n    return num;\n  };\n\n  const confidenceVal = getConfidenceValue();\n  const confidenceDisplay = confidenceVal === null ? \"0.00\" : (confidenceVal * 100).toFixed(2);\n\n  // Render remedy content (data.remedy may be string or object). Return JSX.\n  const renderRemedyContent = () => {\n    const remedyFromPredict = data?.remedy;\n    // If backend included remedy object, use it\n    const remedy = remedyFromPredict && Object.keys(remedyFromPredict).length ? remedyFromPredict : null;\n\n    // If no remedy in predict but we fetched remediesMap, lookup by predicted class\n    const predClass = getPredClass();\n    const remedyFromMap = remediesMap && predClass ? (remediesMap[predClass] || remediesMap[predClass.replace(/ /g, \"-\")] ) : null;\n\n    const finalRemedy = remedy || remedyFromMap || null;\n\n    if (!finalRemedy) return <Typography variant=\"body2\" style={{ color: \"white\" }}>No remedy information available.</Typography>;\n\n    // finalRemedy might be a string or an object\n    if (typeof finalRemedy === \"string\") {\n      return <Typography variant=\"body1\" paragraph style={{ color: \"white\" }}>{finalRemedy}</Typography>;\n    }\n\n    // object case: show title, short_description, treatment_steps, prevention, warning\n    return (\n      <div style={{ marginTop: \"1.5em\", color: \"white\" }}>\n        {finalRemedy.title && <Typography variant=\"h6\" gutterBottom>{finalRemedy.title}</Typography>}\n        {finalRemedy.short_description && <Typography variant=\"body1\" paragraph>{finalRemedy.short_description}</Typography>}\n\n        {finalRemedy.treatment_steps && Array.isArray(finalRemedy.treatment_steps) && (\n          <>\n            <Typography variant=\"subtitle1\" gutterBottom><strong>Treatment Steps:</strong></Typography>\n            <ul style={{ textAlign: \"left\", color: \"white\" }}>\n              {finalRemedy.treatment_steps.map((step, idx) => (\n                <li key={idx}>\n                  <Typography variant=\"body2\">\n                    {step.step ? <strong>{step.step}. </strong> : null}\n                    {step.action || \"\"} {step.details ? `— ${step.details}` : \"\"}\n                  </Typography>\n                </li>\n              ))}\n            </ul>\n          </>\n        )}\n\n        {finalRemedy.prevention && (\n          <>\n            <Typography variant=\"subtitle1\" gutterBottom><strong>Prevention:</strong></Typography>\n            <Typography variant=\"body2\" paragraph>{Array.isArray(finalRemedy.prevention) ? finalRemedy.prevention.join(\"; \") : finalRemedy.prevention}</Typography>\n          </>\n        )}\n\n        {finalRemedy.warning && <Typography variant=\"body2\" style={{ color: \"#ffcccb\" }}>⚠️ {finalRemedy.warning}</Typography>}\n      </div>\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Toolbar>\n          <Typography variant=\"h6\" noWrap>Tomato Disease Detection</Typography>\n          <div className={classes.grow} />\n          <Avatar src={tomatoImg}></Avatar>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth={false} className={classes.mainContainer} disableGutters>\n        <Grid className={classes.gridContainer} container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" spacing={2}>\n          <Grid item xs={12}>\n            <Card className={classes.imageCard}>\n              {image && !isLoading && preview && (\n                <CardActionArea>\n                  <CardMedia className={classes.media} image={preview} component=\"img\" title=\"Tomato leaf\" />\n                </CardActionArea>\n              )}\n\n              {!image && !isLoading && (\n                <CardContent>\n                  <DropzoneArea acceptedFiles={[\"image/*\"]} dropzoneText={\"Drag and drop a tomato leaf image here\"} onChange={onSelectFile} />\n                </CardContent>\n              )}\n\n              {isLoading && (\n                <CardContent className={classes.detail}>\n                  <CircularProgress color=\"secondary\" className={classes.loader} />\n                  <Typography variant=\"h6\">Processing...</Typography>\n                </CardContent>\n              )}\n\n              {data && !isLoading && (\n                <CardContent className={classes.detail}>\n                  <TableContainer component={Paper} elevation={0}>\n                    <Table size=\"small\">\n                      <TableHead>\n                        <TableRow>\n                          <TableCell className={classes.tableCell}>Disease</TableCell>\n                          <TableCell align=\"right\" className={classes.tableCell}>Confidence</TableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        <TableRow>\n                          <TableCell className={classes.tableCell}>{getPredClass() ?? \"Unknown\"}</TableCell>\n                          <TableCell align=\"right\" className={classes.tableCell}>{confidenceDisplay}%</TableCell>\n                        </TableRow>\n                      </TableBody>\n                    </Table>\n                  </TableContainer>\n\n                  {/* Remedy / Precaution */}\n                  {renderRemedyContent()}\n                </CardContent>\n              )}\n            </Card>\n          </Grid>\n\n          {data && !isLoading && (\n            <Grid item className={classes.buttonGrid}>\n              <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>Clear</ColorButton>\n            </Grid>\n          )}\n        </Grid>\n      </Container>\n    </React.Fragment>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}