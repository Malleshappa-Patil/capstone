{"ast":null,"code":"var _jsxFileName = \"/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// import React, { useState, useEffect, useCallback, useRef } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import {\n//   Paper,\n//   CardActionArea,\n//   CardMedia,\n//   Grid,\n//   TableContainer,\n//   Table,\n//   TableBody,\n//   TableHead,\n//   TableRow,\n//   TableCell,\n//   Button,\n//   CircularProgress,\n//   // Tooltip,\n//   Chip,\n// } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from \"material-ui-dropzone\";\n// import { common } from \"@material-ui/core/colors\";\n// import Clear from \"@material-ui/icons/Clear\";\n// import axios from \"axios\";\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     \"&:hover\": { backgroundColor: \"#ffffff7a\" },\n//   },\n// }))(Button);\n// const useStyles = makeStyles((theme) => ({\n//   grow: { flexGrow: 1 },\n//   clearButton: {\n//     width: \"100%\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: \"no-repeat\",\n//     backgroundPosition: \"center\",\n//     backgroundSize: \"cover\",\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   gridContainer: { justifyContent: \"center\", padding: \"1em\" },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 440,\n//     height: \"auto\",\n//     backgroundColor: \"transparent\",\n//     boxShadow: \"0px 9px 70px 0px rgb(0 0 0 / 30%) !important\",\n//     borderRadius: \"15px\",\n//   },\n//   media: { height: 400, objectFit: \"cover\" },\n//   appbar: {\n//     background: \"#be6a77\",\n//     boxShadow: \"none\",\n//     color: \"white\",\n//   },\n//   loader: { color: \"#be6a77 !important\" },\n//   tableCell: {\n//     fontSize: \"18px\",\n//     color: \"#000000a6 !important\",\n//     fontWeight: \"bolder\",\n//     backgroundColor: \"transparent !important\",\n//   },\n//   detail: {\n//     backgroundColor: \"rgba(149, 133, 133, 1)\",\n//     display: \"flex\",\n//     flexDirection: \"column\",\n//     alignItems: \"center\",\n//   },\n//   buttonGrid: { maxWidth: \"456px\", width: \"100%\" },\n//   remedyContent: {\n//     width: \"100%\",\n//     maxHeight: 420,\n//     overflowY: \"auto\",\n//   },\n//   uploadHeader: {\n//     textAlign: \"center\",\n//     marginBottom: theme.spacing(2),\n//     color: \"#6b3540\",\n//     fontWeight: 600,\n//   },\n//   tipsRow: {\n//     display: \"flex\",\n//     justifyContent: \"center\",\n//     gap: theme.spacing(1),\n//     marginTop: theme.spacing(1),\n//   },\n// }));\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const remedyRef = useRef(null);\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsLoading] = useState(false);\n//   const API_URL = \"http://localhost:8000/predict\";\n//   const sendFile = useCallback(async () => {\n//     if (image && selectedFile) {\n//       let isMounted = true;\n//       try {\n//         setIsLoading(true);\n//         const formData = new FormData();\n//         formData.append(\"file\", selectedFile);\n//         const res = await axios.post(API_URL, formData, {\n//           headers: { \"Content-Type\": \"multipart/form-data\" },\n//           timeout: 20000,\n//         });\n//         if (isMounted && res.status === 200) {\n//           setData(res.data);\n//           setTimeout(() => {\n//             remedyRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n//           }, 150);\n//         }\n//       } catch (error) {\n//         console.error(\"Prediction Error:\", error);\n//       } finally {\n//         if (isMounted) setIsLoading(false);\n//       }\n//       return () => {\n//         isMounted = false;\n//       };\n//     }\n//   }, [image, selectedFile]);\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//     return () => URL.revokeObjectURL(objectUrl);\n//   }, [selectedFile]);\n//   useEffect(() => {\n//     if (preview) sendFile();\n//   }, [preview, sendFile]);\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       clearData();\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n//   const getPredClass = () => data?.pred_class || \"Unknown\";\n//   const confidenceDisplay = ((data?.pred_conf || 0) * 100).toFixed(2);\n//   const renderSection = (title, content, icon = \"\") => {\n//     if (!content) return null;\n//     // handle array of simple text or array of objects\n//     if (Array.isArray(content)) {\n//       return (\n//         <details className=\"remedy-block\" open>\n//           <summary>\n//             {icon} {title}\n//           </summary>\n//           <ul className=\"remedy-list\">\n//             {content.map((item, i) => (\n//               <li key={i}>\n//                 {typeof item === \"object\"\n//                   ? Object.entries(item)\n//                       .map(([k, v]) => `${k}: ${v}`)\n//                       .join(\" | \")\n//                   : item}\n//               </li>\n//             ))}\n//           </ul>\n//         </details>\n//       );\n//     }\n//     // handle single string\n//     return (\n//       <details className=\"remedy-block\" open>\n//         <summary>\n//           {icon} {title}\n//         </summary>\n//         <Typography variant=\"body2\" style={{ color: \"#fff\" }}>\n//           {content}\n//         </Typography>\n//       </details>\n//     );\n//   };\n//   const renderRemedyContent = () => {\n//     const r = data?.remedy;\n//     if (!r) return null;\n//     return (\n//       <div className={`remedy-section ${classes.remedyContent}`}>\n//         {renderSection(\"Symptoms\", r.symptoms, \"üåø\")}\n//         {renderSection(\"Causes\", r.causes, \"üß¨\")}\n//         {renderSection(\"Treatment Steps\", r.treatment_steps, \"üíä\")}\n//         {renderSection(\"Prevention\", r.prevention, \"üõ°Ô∏è\")}\n//         {renderSection(\"Organic Solutions\", r.organic_solutions, \"üå±\")}\n//         {renderSection(\"Chemical Solutions\", r.chemical_solutions, \"üß™\")}\n//         {r.estimated_recovery_time && (\n//           <Typography variant=\"body2\" style={{ color: \"#fff\", marginTop: \"1em\" }}>\n//             ‚è±Ô∏è <strong>Estimated Recovery Time:</strong> {r.estimated_recovery_time}\n//           </Typography>\n//         )}\n//         {r.severity_level && (\n//           <Typography variant=\"body2\" style={{ color: \"#fff\" }}>\n//             ‚ö†Ô∏è <strong>Severity Level:</strong> {r.severity_level}\n//           </Typography>\n//         )}\n//         {r.warning && (\n//           <Typography variant=\"body2\" style={{ color: \"#ffb3b3\", marginTop: \"1em\" }}>\n//             ‚ö†Ô∏è {r.warning}\n//           </Typography>\n//         )}\n//       </div>\n//     );\n//   };\n//   return (\n//     <>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={classes.imageCard}>\n//               {!isLoading && !image && (\n//                 <CardContent>\n//                   <div className={classes.uploadHeader}>\n//                     <Typography variant=\"h6\">Upload Tomato Leaf</Typography>\n//                     <div className={classes.tipsRow}>\n//                       <Chip size=\"small\" label=\"JPG/PNG\" />\n//                       <Chip size=\"small\" label=\"Max 5 MB\" />\n//                       <Chip size=\"small\" label=\"1 image only\" />\n//                     </div>\n//                   </div>\n//                   <DropzoneArea\n//                     acceptedFiles={[\"image/*\"]}\n//                     filesLimit={1}\n//                     maxFileSize={5 * 1024 * 1024}\n//                     showAlerts={[\"error\"]}\n//                     dropzoneClass={\"upload-area\"}\n//                     onChange={onSelectFile}\n//                   />\n//                 </CardContent>\n//               )}\n//               {image && !isLoading && preview && (\n//                 <CardActionArea>\n//                   <CardMedia\n//                     className={classes.media}\n//                     image={preview}\n//                     component=\"img\"\n//                     title=\"Tomato leaf\"\n//                   />\n//                 </CardActionArea>\n//               )}\n//               {isLoading && (\n//                 <CardContent className={classes.detail}>\n//                   <CircularProgress color=\"secondary\" className={classes.loader} />\n//                   <Typography variant=\"h6\">Processing...</Typography>\n//                 </CardContent>\n//               )}\n//               {data && !isLoading && (\n//                 <CardContent ref={remedyRef} className={classes.detail}>\n//                   <TableContainer component={Paper} elevation={0}>\n//                     <Table size=\"small\">\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>Disease</TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             Confidence\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>{getPredClass()}</TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             {confidenceDisplay}%\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n//                   {renderRemedyContent()}\n//                 </CardContent>\n//               )}\n//             </Card>\n//           </Grid>\n//           {data && !isLoading && (\n//             <Grid item className={classes.buttonGrid}>\n//               <ColorButton\n//                 variant=\"contained\"\n//                 className={classes.clearButton}\n//                 color=\"primary\"\n//                 onClick={clearData}\n//                 startIcon={<Clear fontSize=\"large\" />}\n//               >\n//                 Clear\n//               </ColorButton>\n//             </Grid>\n//           )}\n//         </Grid>\n//       </Container>\n//     </>\n//   );\n// };\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { AppBar, Toolbar, Typography, Avatar, Container, Card, CardContent, CardMedia, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress, Chip, Tooltip } from \"@material-ui/core\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport axios from \"axios\";\nimport { common } from \"@material-ui/core/colors\";\nimport tomatoImg from \"./tomato.jpg\";\nimport bgImg from \"./bg.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ColorButton = withStyles(theme => ({\n  root: {\n    color: theme.palette.getContrastText(common.white),\n    backgroundColor: \"#be6a77\",\n    \"&:hover\": {\n      backgroundColor: \"#a35763\"\n    }\n  }\n}))(Button);\n_c = ColorButton;\nconst useStyles = makeStyles(theme => ({\n  appbar: {\n    background: \"#be6a77\",\n    boxShadow: \"none\"\n  },\n  mainContainer: {\n    backgroundImage: `url(${bgImg})`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    minHeight: \"93vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(2)\n  },\n  uploadCard: {\n    width: \"50%\",\n    minWidth: 380,\n    borderRadius: \"16px\",\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.2)\",\n    backgroundColor: \"#ffffff\"\n  },\n  uploadHeader: {\n    textAlign: \"center\",\n    color: \"#6b3540\",\n    fontWeight: 600,\n    marginBottom: theme.spacing(2)\n  },\n  tipsRow: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    gap: theme.spacing(1),\n    marginTop: theme.spacing(1)\n  },\n  resultWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: \"90%\",\n    maxWidth: \"900px\",\n    marginTop: \"2em\"\n  },\n  imageContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fff\",\n    borderRadius: \"16px\",\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.3)\",\n    overflow: \"hidden\"\n  },\n  media: {\n    width: \"100%\",\n    height: 400,\n    objectFit: \"cover\"\n  },\n  remediesContainer: {\n    width: \"100%\",\n    backgroundColor: \"#fff\",\n    color: \"#000\",\n    marginTop: \"1.5em\",\n    borderRadius: \"16px\",\n    padding: \"2em\",\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.3)\"\n  },\n  loaderSection: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"70vh\"\n  },\n  tableCell: {\n    fontSize: \"18px\",\n    fontWeight: 700,\n    color: \"#000\"\n  },\n  clearButton: {\n    marginTop: theme.spacing(3),\n    width: \"200px\",\n    borderRadius: \"12px\",\n    fontWeight: 700\n  }\n}));\nexport const ImageUpload = () => {\n  _s();\n\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState();\n  const [preview, setPreview] = useState();\n  const [data, setData] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageUploaded, setImageUploaded] = useState(false);\n  const remedyRef = useRef(null);\n  const API_URL = \"http://localhost:8000/predict\";\n  const sendFile = useCallback(async () => {\n    if (selectedFile) {\n      let isMounted = true;\n\n      try {\n        setIsLoading(true);\n        const formData = new FormData();\n        formData.append(\"file\", selectedFile);\n        const res = await axios.post(API_URL, formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n\n        if (isMounted && res.status === 200) {\n          setData(res.data);\n          setTimeout(() => {\n            var _remedyRef$current;\n\n            return (_remedyRef$current = remedyRef.current) === null || _remedyRef$current === void 0 ? void 0 : _remedyRef$current.scrollIntoView({\n              behavior: \"smooth\"\n            });\n          }, 150);\n        }\n      } catch (error) {\n        console.error(\"Prediction Error:\", error);\n      } finally {\n        if (isMounted) setIsLoading(false);\n      }\n\n      return () => {\n        isMounted = false;\n      };\n    }\n  }, [selectedFile]);\n\n  const clearData = () => {\n    setSelectedFile(null);\n    setPreview(null);\n    setData(null);\n    setImageUploaded(false);\n  };\n\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n    setImageUploaded(true);\n    sendFile();\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile, sendFile]);\n\n  const onSelectFile = files => {\n    if (files && files.length > 0) {\n      setSelectedFile(files[0]);\n    }\n  };\n\n  const getPredClass = () => (data === null || data === void 0 ? void 0 : data.pred_class) || \"Unknown\";\n\n  const confidenceDisplay = (((data === null || data === void 0 ? void 0 : data.pred_conf) || 0) * 100).toFixed(2);\n\n  const renderSection = function (title, content) {\n    let icon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n    if (!content) return null;\n\n    if (Array.isArray(content)) {\n      return /*#__PURE__*/_jsxDEV(\"details\", {\n        className: \"remedy-block\",\n        open: true,\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: [icon, \" \", title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"remedy-list\",\n          children: content.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: typeof item === \"object\" ? Object.entries(item).map(_ref => {\n              let [k, v] = _ref;\n              return `${k}: ${v}`;\n            }).join(\" | \") : item\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, _this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, _this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"details\", {\n      className: \"remedy-block\",\n      open: true,\n      children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n        children: [icon, \" \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 7\n    }, _this);\n  };\n\n  const renderRemedyContent = () => {\n    const r = data === null || data === void 0 ? void 0 : data.remedy;\n    if (!r) return null;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"Remedies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this), renderSection(\"üåø Symptoms\", r.symptoms), renderSection(\"üß¨ Causes\", r.causes), renderSection(\"üíä Treatment Steps\", r.treatment_steps), renderSection(\"üõ°Ô∏è Prevention\", r.prevention), renderSection(\"üå± Organic Solutions\", r.organic_solutions), renderSection(\"üß™ Chemical Solutions\", r.chemical_solutions), r.estimated_recovery_time && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        style: {\n          marginTop: \"1em\"\n        },\n        children: [\"\\u23F1\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Estimated Recovery Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 16\n        }, this), \" \", r.estimated_recovery_time]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 11\n      }, this), r.severity_level && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Severity Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 16\n        }, this), \" \", r.severity_level]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 11\n      }, this), r.warning && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        style: {\n          color: \"#d9534f\",\n          marginTop: \"1em\"\n        },\n        children: [\"\\u26A0\\uFE0F \", r.warning]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      className: classes.appbar,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Tomato Disease Detection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flexGrow: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n          src: tomatoImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: classes.mainContainer,\n      children: [!imageUploaded && !isLoading && !data && /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.uploadCard,\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            className: classes.uploadHeader,\n            children: \"Upload a Tomato Leaf Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.tipsRow,\n            children: [/*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: \"JPG/PNG\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: \"Max 5 MB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Chip, {\n              size: \"small\",\n              label: \"1 image only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(DropzoneArea, {\n            acceptedFiles: [\"image/*\"],\n            filesLimit: 1,\n            maxFileSize: 5 * 1024 * 1024,\n            showAlerts: [\"error\"],\n            dropzoneClass: \"upload-area\",\n            onChange: onSelectFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 11\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loaderSection,\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          style: {\n            marginTop: \"1em\"\n          },\n          children: \"Processing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 11\n      }, this), data && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.resultWrapper,\n        ref: remedyRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.imageContainer,\n          children: /*#__PURE__*/_jsxDEV(CardMedia, {\n            component: \"img\",\n            image: preview,\n            alt: \"Tomato Leaf\",\n            className: classes.media\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.remediesContainer,\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    className: classes.tableCell,\n                    children: \"Disease\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    className: classes.tableCell,\n                    children: \"Confidence\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    className: classes.tableCell,\n                    children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                      title: \"Predicted class from the model\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: getPredClass()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 683,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 682,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 681,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    className: classes.tableCell,\n                    children: [confidenceDisplay, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 686,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 15\n          }, this), renderRemedyContent(), /*#__PURE__*/_jsxDEV(ColorButton, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: clearData,\n            className: classes.clearButton,\n            startIcon: /*#__PURE__*/_jsxDEV(Clear, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 28\n            }, this),\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ImageUpload, \"O8hJ9vU9w+jEUCHNQkkbmmh/eHE=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = ImageUpload;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ColorButton\");\n$RefreshReg$(_c2, \"ImageUpload\");","map":{"version":3,"sources":["/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js"],"names":["React","useState","useEffect","useCallback","useRef","AppBar","Toolbar","Typography","Avatar","Container","Card","CardContent","CardMedia","TableContainer","Table","TableBody","TableHead","TableRow","TableCell","Button","CircularProgress","Chip","Tooltip","makeStyles","withStyles","Clear","DropzoneArea","axios","common","tomatoImg","bgImg","ColorButton","theme","root","color","palette","getContrastText","white","backgroundColor","useStyles","appbar","background","boxShadow","mainContainer","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","minHeight","display","flexDirection","alignItems","paddingTop","spacing","uploadCard","width","minWidth","borderRadius","uploadHeader","textAlign","fontWeight","marginBottom","tipsRow","justifyContent","gap","marginTop","resultWrapper","maxWidth","imageContainer","overflow","media","height","objectFit","remediesContainer","padding","loaderSection","tableCell","fontSize","clearButton","ImageUpload","classes","selectedFile","setSelectedFile","preview","setPreview","data","setData","isLoading","setIsLoading","imageUploaded","setImageUploaded","remedyRef","API_URL","sendFile","isMounted","formData","FormData","append","res","post","headers","status","setTimeout","current","scrollIntoView","behavior","error","console","clearData","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","onSelectFile","files","length","getPredClass","pred_class","confidenceDisplay","pred_conf","toFixed","renderSection","title","content","icon","Array","isArray","map","item","i","Object","entries","k","v","join","renderRemedyContent","r","remedy","symptoms","causes","treatment_steps","prevention","organic_solutions","chemical_solutions","estimated_recovery_time","severity_level","warning","flexGrow"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,EAAkDC,MAAlD,QAAgE,OAAhE;AACA,SACEC,MADF,EAEEC,OAFF,EAGEC,UAHF,EAIEC,MAJF,EAKEC,SALF,EAMEC,IANF,EAOEC,WAPF,EAQEC,SARF,EASEC,cATF,EAUEC,KAVF,EAWEC,SAXF,EAYEC,SAZF,EAaEC,QAbF,EAcEC,SAdF,EAeEC,MAfF,EAgBEC,gBAhBF,EAiBEC,IAjBF,EAkBEC,OAlBF,QAmBO,mBAnBP;AAoBA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;;AAEA,MAAMC,WAAW,GAAGP,UAAU,CAAEQ,KAAD,KAAY;AACzCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAEF,KAAK,CAACG,OAAN,CAAcC,eAAd,CAA8BR,MAAM,CAACS,KAArC,CADH;AAEJC,IAAAA,eAAe,EAAE,SAFb;AAGJ,eAAW;AAAEA,MAAAA,eAAe,EAAE;AAA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","sourcesContent":["// import React, { useState, useEffect, useCallback, useRef } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import {\n//   Paper,\n//   CardActionArea,\n//   CardMedia,\n//   Grid,\n//   TableContainer,\n//   Table,\n//   TableBody,\n//   TableHead,\n//   TableRow,\n//   TableCell,\n//   Button,\n//   CircularProgress,\n//   // Tooltip,\n//   Chip,\n// } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from \"material-ui-dropzone\";\n// import { common } from \"@material-ui/core/colors\";\n// import Clear from \"@material-ui/icons/Clear\";\n// import axios from \"axios\";\n\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     \"&:hover\": { backgroundColor: \"#ffffff7a\" },\n//   },\n// }))(Button);\n\n// const useStyles = makeStyles((theme) => ({\n//   grow: { flexGrow: 1 },\n//   clearButton: {\n//     width: \"100%\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: \"no-repeat\",\n//     backgroundPosition: \"center\",\n//     backgroundSize: \"cover\",\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   gridContainer: { justifyContent: \"center\", padding: \"1em\" },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 440,\n//     height: \"auto\",\n//     backgroundColor: \"transparent\",\n//     boxShadow: \"0px 9px 70px 0px rgb(0 0 0 / 30%) !important\",\n//     borderRadius: \"15px\",\n//   },\n//   media: { height: 400, objectFit: \"cover\" },\n//   appbar: {\n//     background: \"#be6a77\",\n//     boxShadow: \"none\",\n//     color: \"white\",\n//   },\n//   loader: { color: \"#be6a77 !important\" },\n//   tableCell: {\n//     fontSize: \"18px\",\n//     color: \"#000000a6 !important\",\n//     fontWeight: \"bolder\",\n//     backgroundColor: \"transparent !important\",\n//   },\n//   detail: {\n//     backgroundColor: \"rgba(149, 133, 133, 1)\",\n//     display: \"flex\",\n//     flexDirection: \"column\",\n//     alignItems: \"center\",\n//   },\n//   buttonGrid: { maxWidth: \"456px\", width: \"100%\" },\n//   remedyContent: {\n//     width: \"100%\",\n//     maxHeight: 420,\n//     overflowY: \"auto\",\n//   },\n//   uploadHeader: {\n//     textAlign: \"center\",\n//     marginBottom: theme.spacing(2),\n//     color: \"#6b3540\",\n//     fontWeight: 600,\n//   },\n//   tipsRow: {\n//     display: \"flex\",\n//     justifyContent: \"center\",\n//     gap: theme.spacing(1),\n//     marginTop: theme.spacing(1),\n//   },\n// }));\n\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const remedyRef = useRef(null);\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsLoading] = useState(false);\n//   const API_URL = \"http://localhost:8000/predict\";\n\n//   const sendFile = useCallback(async () => {\n//     if (image && selectedFile) {\n//       let isMounted = true;\n//       try {\n//         setIsLoading(true);\n//         const formData = new FormData();\n//         formData.append(\"file\", selectedFile);\n//         const res = await axios.post(API_URL, formData, {\n//           headers: { \"Content-Type\": \"multipart/form-data\" },\n//           timeout: 20000,\n//         });\n\n//         if (isMounted && res.status === 200) {\n//           setData(res.data);\n//           setTimeout(() => {\n//             remedyRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n//           }, 150);\n//         }\n//       } catch (error) {\n//         console.error(\"Prediction Error:\", error);\n//       } finally {\n//         if (isMounted) setIsLoading(false);\n//       }\n//       return () => {\n//         isMounted = false;\n//       };\n//     }\n//   }, [image, selectedFile]);\n\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//     return () => URL.revokeObjectURL(objectUrl);\n//   }, [selectedFile]);\n\n//   useEffect(() => {\n//     if (preview) sendFile();\n//   }, [preview, sendFile]);\n\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       clearData();\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n\n//   const getPredClass = () => data?.pred_class || \"Unknown\";\n//   const confidenceDisplay = ((data?.pred_conf || 0) * 100).toFixed(2);\n\n//   const renderSection = (title, content, icon = \"\") => {\n//     if (!content) return null;\n\n//     // handle array of simple text or array of objects\n//     if (Array.isArray(content)) {\n//       return (\n//         <details className=\"remedy-block\" open>\n//           <summary>\n//             {icon} {title}\n//           </summary>\n//           <ul className=\"remedy-list\">\n//             {content.map((item, i) => (\n//               <li key={i}>\n//                 {typeof item === \"object\"\n//                   ? Object.entries(item)\n//                       .map(([k, v]) => `${k}: ${v}`)\n//                       .join(\" | \")\n//                   : item}\n//               </li>\n//             ))}\n//           </ul>\n//         </details>\n//       );\n//     }\n\n//     // handle single string\n//     return (\n//       <details className=\"remedy-block\" open>\n//         <summary>\n//           {icon} {title}\n//         </summary>\n//         <Typography variant=\"body2\" style={{ color: \"#fff\" }}>\n//           {content}\n//         </Typography>\n//       </details>\n//     );\n//   };\n\n//   const renderRemedyContent = () => {\n//     const r = data?.remedy;\n//     if (!r) return null;\n\n//     return (\n//       <div className={`remedy-section ${classes.remedyContent}`}>\n//         {renderSection(\"Symptoms\", r.symptoms, \"üåø\")}\n//         {renderSection(\"Causes\", r.causes, \"üß¨\")}\n//         {renderSection(\"Treatment Steps\", r.treatment_steps, \"üíä\")}\n//         {renderSection(\"Prevention\", r.prevention, \"üõ°Ô∏è\")}\n//         {renderSection(\"Organic Solutions\", r.organic_solutions, \"üå±\")}\n//         {renderSection(\"Chemical Solutions\", r.chemical_solutions, \"üß™\")}\n\n//         {r.estimated_recovery_time && (\n//           <Typography variant=\"body2\" style={{ color: \"#fff\", marginTop: \"1em\" }}>\n//             ‚è±Ô∏è <strong>Estimated Recovery Time:</strong> {r.estimated_recovery_time}\n//           </Typography>\n//         )}\n//         {r.severity_level && (\n//           <Typography variant=\"body2\" style={{ color: \"#fff\" }}>\n//             ‚ö†Ô∏è <strong>Severity Level:</strong> {r.severity_level}\n//           </Typography>\n//         )}\n//         {r.warning && (\n//           <Typography variant=\"body2\" style={{ color: \"#ffb3b3\", marginTop: \"1em\" }}>\n//             ‚ö†Ô∏è {r.warning}\n//           </Typography>\n//         )}\n//       </div>\n//     );\n//   };\n\n//   return (\n//     <>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={classes.imageCard}>\n//               {!isLoading && !image && (\n//                 <CardContent>\n//                   <div className={classes.uploadHeader}>\n//                     <Typography variant=\"h6\">Upload Tomato Leaf</Typography>\n//                     <div className={classes.tipsRow}>\n//                       <Chip size=\"small\" label=\"JPG/PNG\" />\n//                       <Chip size=\"small\" label=\"Max 5 MB\" />\n//                       <Chip size=\"small\" label=\"1 image only\" />\n//                     </div>\n//                   </div>\n//                   <DropzoneArea\n//                     acceptedFiles={[\"image/*\"]}\n//                     filesLimit={1}\n//                     maxFileSize={5 * 1024 * 1024}\n//                     showAlerts={[\"error\"]}\n//                     dropzoneClass={\"upload-area\"}\n//                     onChange={onSelectFile}\n//                   />\n//                 </CardContent>\n//               )}\n\n//               {image && !isLoading && preview && (\n//                 <CardActionArea>\n//                   <CardMedia\n//                     className={classes.media}\n//                     image={preview}\n//                     component=\"img\"\n//                     title=\"Tomato leaf\"\n//                   />\n//                 </CardActionArea>\n//               )}\n\n//               {isLoading && (\n//                 <CardContent className={classes.detail}>\n//                   <CircularProgress color=\"secondary\" className={classes.loader} />\n//                   <Typography variant=\"h6\">Processing...</Typography>\n//                 </CardContent>\n//               )}\n\n//               {data && !isLoading && (\n//                 <CardContent ref={remedyRef} className={classes.detail}>\n//                   <TableContainer component={Paper} elevation={0}>\n//                     <Table size=\"small\">\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>Disease</TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             Confidence\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>{getPredClass()}</TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             {confidenceDisplay}%\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n\n//                   {renderRemedyContent()}\n//                 </CardContent>\n//               )}\n//             </Card>\n//           </Grid>\n\n//           {data && !isLoading && (\n//             <Grid item className={classes.buttonGrid}>\n//               <ColorButton\n//                 variant=\"contained\"\n//                 className={classes.clearButton}\n//                 color=\"primary\"\n//                 onClick={clearData}\n//                 startIcon={<Clear fontSize=\"large\" />}\n//               >\n//                 Clear\n//               </ColorButton>\n//             </Grid>\n//           )}\n//         </Grid>\n//       </Container>\n//     </>\n//   );\n// };\n\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Avatar,\n  Container,\n  Card,\n  CardContent,\n  CardMedia,\n  TableContainer,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n  TableCell,\n  Button,\n  CircularProgress,\n  Chip,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport axios from \"axios\";\nimport { common } from \"@material-ui/core/colors\";\nimport tomatoImg from \"./tomato.jpg\";\nimport bgImg from \"./bg.png\";\n\nconst ColorButton = withStyles((theme) => ({\n  root: {\n    color: theme.palette.getContrastText(common.white),\n    backgroundColor: \"#be6a77\",\n    \"&:hover\": { backgroundColor: \"#a35763\" },\n  },\n}))(Button);\n\nconst useStyles = makeStyles((theme) => ({\n  appbar: {\n    background: \"#be6a77\",\n    boxShadow: \"none\",\n  },\n  mainContainer: {\n    backgroundImage: `url(${bgImg})`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundPosition: \"center\",\n    backgroundSize: \"cover\",\n    minHeight: \"93vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    paddingTop: theme.spacing(2),\n  },\n  uploadCard: {\n    width: \"50%\",\n    minWidth: 380,\n    borderRadius: \"16px\",\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.2)\",\n    backgroundColor: \"#ffffff\",\n  },\n  uploadHeader: {\n    textAlign: \"center\",\n    color: \"#6b3540\",\n    fontWeight: 600,\n    marginBottom: theme.spacing(2),\n  },\n  tipsRow: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    gap: theme.spacing(1),\n    marginTop: theme.spacing(1),\n  },\n  resultWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: \"90%\",\n    maxWidth: \"900px\",\n    marginTop: \"2em\",\n  },\n  imageContainer: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fff\",\n    borderRadius: \"16px\",\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.3)\",\n    overflow: \"hidden\",\n  },\n  media: {\n    width: \"100%\",\n    height: 400,\n    objectFit: \"cover\",\n  },\n  remediesContainer: {\n    width: \"100%\",\n    backgroundColor: \"#fff\",\n    color: \"#000\",\n    marginTop: \"1.5em\",\n    borderRadius: \"16px\",\n    padding: \"2em\",\n    boxShadow: \"0 6px 20px rgba(0,0,0,0.3)\",\n  },\n  loaderSection: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"70vh\",\n  },\n  tableCell: {\n    fontSize: \"18px\",\n    fontWeight: 700,\n    color: \"#000\",\n  },\n  clearButton: {\n    marginTop: theme.spacing(3),\n    width: \"200px\",\n    borderRadius: \"12px\",\n    fontWeight: 700,\n  },\n}));\n\nexport const ImageUpload = () => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState();\n  const [preview, setPreview] = useState();\n  const [data, setData] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageUploaded, setImageUploaded] = useState(false);\n  const remedyRef = useRef(null);\n\n  const API_URL = \"http://localhost:8000/predict\";\n\n  const sendFile = useCallback(async () => {\n    if (selectedFile) {\n      let isMounted = true;\n      try {\n        setIsLoading(true);\n        const formData = new FormData();\n        formData.append(\"file\", selectedFile);\n        const res = await axios.post(API_URL, formData, {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n\n        if (isMounted && res.status === 200) {\n          setData(res.data);\n          setTimeout(() => remedyRef.current?.scrollIntoView({ behavior: \"smooth\" }), 150);\n        }\n      } catch (error) {\n        console.error(\"Prediction Error:\", error);\n      } finally {\n        if (isMounted) setIsLoading(false);\n      }\n      return () => {\n        isMounted = false;\n      };\n    }\n  }, [selectedFile]);\n\n  const clearData = () => {\n    setSelectedFile(null);\n    setPreview(null);\n    setData(null);\n    setImageUploaded(false);\n  };\n\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl);\n    setImageUploaded(true);\n    sendFile();\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile, sendFile]);\n\n  const onSelectFile = (files) => {\n    if (files && files.length > 0) {\n      setSelectedFile(files[0]);\n    }\n  };\n\n  const getPredClass = () => data?.pred_class || \"Unknown\";\n  const confidenceDisplay = ((data?.pred_conf || 0) * 100).toFixed(2);\n\n  const renderSection = (title, content, icon = \"\") => {\n    if (!content) return null;\n\n    if (Array.isArray(content)) {\n      return (\n        <details className=\"remedy-block\" open>\n          <summary>\n            {icon} {title}\n          </summary>\n          <ul className=\"remedy-list\">\n            {content.map((item, i) => (\n              <li key={i}>\n                {typeof item === \"object\"\n                  ? Object.entries(item)\n                      .map(([k, v]) => `${k}: ${v}`)\n                      .join(\" | \")\n                  : item}\n              </li>\n            ))}\n          </ul>\n        </details>\n      );\n    }\n\n    return (\n      <details className=\"remedy-block\" open>\n        <summary>\n          {icon} {title}\n        </summary>\n        <Typography variant=\"body2\">{content}</Typography>\n      </details>\n    );\n  };\n\n  const renderRemedyContent = () => {\n    const r = data?.remedy;\n    if (!r) return null;\n\n    return (\n      <>\n        <Typography variant=\"h5\" gutterBottom>\n          Remedies\n        </Typography>\n        {renderSection(\"üåø Symptoms\", r.symptoms)}\n        {renderSection(\"üß¨ Causes\", r.causes)}\n        {renderSection(\"üíä Treatment Steps\", r.treatment_steps)}\n        {renderSection(\"üõ°Ô∏è Prevention\", r.prevention)}\n        {renderSection(\"üå± Organic Solutions\", r.organic_solutions)}\n        {renderSection(\"üß™ Chemical Solutions\", r.chemical_solutions)}\n\n        {r.estimated_recovery_time && (\n          <Typography variant=\"body2\" style={{ marginTop: \"1em\" }}>\n            ‚è±Ô∏è <strong>Estimated Recovery Time:</strong> {r.estimated_recovery_time}\n          </Typography>\n        )}\n        {r.severity_level && (\n          <Typography variant=\"body2\">\n            ‚ö†Ô∏è <strong>Severity Level:</strong> {r.severity_level}\n          </Typography>\n        )}\n        {r.warning && (\n          <Typography variant=\"body2\" style={{ color: \"#d9534f\", marginTop: \"1em\" }}>\n            ‚ö†Ô∏è {r.warning}\n          </Typography>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <>\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Toolbar>\n          <Typography variant=\"h6\">Tomato Disease Detection</Typography>\n          <div style={{ flexGrow: 1 }} />\n          <Avatar src={tomatoImg} />\n        </Toolbar>\n      </AppBar>\n\n      <Container className={classes.mainContainer}>\n        {!imageUploaded && !isLoading && !data && (\n          <Card className={classes.uploadCard}>\n            <CardContent>\n              <Typography variant=\"h6\" className={classes.uploadHeader}>\n                Upload a Tomato Leaf Image\n              </Typography>\n              <div className={classes.tipsRow}>\n                <Chip size=\"small\" label=\"JPG/PNG\" />\n                <Chip size=\"small\" label=\"Max 5 MB\" />\n                <Chip size=\"small\" label=\"1 image only\" />\n              </div>\n              <DropzoneArea\n                acceptedFiles={[\"image/*\"]}\n                filesLimit={1}\n                maxFileSize={5 * 1024 * 1024}\n                showAlerts={[\"error\"]}\n                dropzoneClass={\"upload-area\"}\n                onChange={onSelectFile}\n              />\n            </CardContent>\n          </Card>\n        )}\n\n        {isLoading && (\n          <div className={classes.loaderSection}>\n            <CircularProgress color=\"secondary\" />\n            <Typography variant=\"h6\" style={{ marginTop: \"1em\" }}>\n              Processing...\n            </Typography>\n          </div>\n        )}\n\n        {data && !isLoading && (\n          <div className={classes.resultWrapper} ref={remedyRef}>\n            {/* Image Section */}\n            <div className={classes.imageContainer}>\n              <CardMedia component=\"img\" image={preview} alt=\"Tomato Leaf\" className={classes.media} />\n            </div>\n\n            {/* Remedies Section */}\n            <div className={classes.remediesContainer}>\n              <TableContainer>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell className={classes.tableCell}>Disease</TableCell>\n                      <TableCell align=\"right\" className={classes.tableCell}>\n                        Confidence\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    <TableRow>\n                      <TableCell className={classes.tableCell}>\n                        <Tooltip title=\"Predicted class from the model\">\n                          <span>{getPredClass()}</span>\n                        </Tooltip>\n                      </TableCell>\n                      <TableCell align=\"right\" className={classes.tableCell}>\n                        {confidenceDisplay}%\n                      </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </TableContainer>\n\n              {renderRemedyContent()}\n\n              <ColorButton\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={clearData}\n                className={classes.clearButton}\n                startIcon={<Clear />}\n              >\n                Clear\n              </ColorButton>\n            </div>\n          </div>\n        )}\n      </Container>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}