{"ast":null,"code":"// import { useState, useEffect } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import React from \"react\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from 'material-ui-dropzone';\n// import { common } from '@material-ui/core/colors';\n// import Clear from '@material-ui/icons/Clear';\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     '&:hover': {\n//       backgroundColor: '#ffffff7a',\n//     },\n//   },\n// }))(Button);\n// const axios = require(\"axios\").default;\n// const useStyles = makeStyles((theme) => ({\n//   grow: {\n//     flexGrow: 1,\n//   },\n//   clearButton: {\n//     width: \"-webkit-fill-available\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   root: {\n//     maxWidth: 345,\n//     flexGrow: 1,\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   paper: {\n//     padding: theme.spacing(2),\n//     margin: 'auto',\n//     maxWidth: 500,\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em 1em 0 1em\",\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: 'no-repeat',\n//     backgroundPosition: 'center',\n//     backgroundSize: 'cover',\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: 'transparent',\n//     boxShadow: '0px 9px 70px 0px rgb(0 0 0 / 30%) !important',\n//     borderRadius: '15px',\n//   },\n//   imageCardEmpty: {\n//     height: 'auto',\n//   },\n//   noImage: {\n//     margin: \"auto\",\n//     width: 400,\n//     height: \"400 !important\",\n//   },\n//   input: {\n//     display: 'none',\n//   },\n//   uploadIcon: {\n//     background: 'white',\n//   },\n//   tableContainer: {\n//     backgroundColor: 'transparent !important',\n//     boxShadow: 'none !important',\n//   },\n//   table: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableHead: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableRow: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableCell: {\n//     fontSize: '20px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableCell1: {\n//     fontSize: '14px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableBody: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   text: {\n//     color: 'white !important',\n//     textAlign: 'center',\n//   },\n//   buttonGrid: {\n//     maxWidth: \"416px\",\n//     width: \"100%\",\n//   },\n//   detail: {\n//     backgroundColor: 'white',\n//     display: 'flex',\n//     justifyContent: 'center',\n//     flexDirection: 'column',\n//     alignItems: 'center',\n//   },\n//   appbar: {\n//     background: '#be6a77',\n//     boxShadow: 'none',\n//     color: 'white'\n//   },\n//   loader: {\n//     color: '#be6a77 !important',\n//   }\n// }));\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsloading] = useState(false);\n//   let confidence = 0;\n//   const sendFile = async () => {\n//     if (image) {\n//       let formData = new FormData();\n//       formData.append(\"file\", selectedFile);\n//       let res = await axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_API_URL,\n//         data: formData,\n//       });\n//       if (res.status === 200) {\n//         setData(res.data);\n//       }\n//       setIsloading(false);\n//     }\n//   }\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n//   useEffect(() => {\n//     if (!preview) {\n//       return;\n//     }\n//     setIsloading(true);\n//     sendFile();\n//   }, [preview]);\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       setSelectedFile(undefined);\n//       setImage(false);\n//       setData(undefined);\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n//   if (data) {\n//     confidence = (parseFloat(data.pred_conf) * 100).toFixed(2);\n//   }\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography className={classes.title} variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters={true}>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={`${classes.imageCard} ${!image ? classes.imageCardEmpty : ''}`}>\n//               {image && <CardActionArea>\n//                 <CardMedia\n//                   className={classes.media}\n//                   image={preview}\n//                   component=\"image\"\n//                   title=\"Tomato leaf\"\n//                 />\n//               </CardActionArea>\n//               }\n//               {!image && <CardContent className={classes.content}>\n//                 <DropzoneArea\n//                   acceptedFiles={['image/*']}\n//                   dropzoneText={\"Drag and drop an image of a tomato leaf\"}\n//                   onChange={onSelectFile}\n//                 />\n//               </CardContent>}\n//               {data && <CardContent className={classes.detail}>\n//                 <TableContainer component={Paper} className={classes.tableContainer}>\n//                   <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n//                     <TableHead className={classes.tableHead}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell className={classes.tableCell1}>Label:</TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell1}>Confidence:</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody className={classes.tableBody}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell component=\"th\" scope=\"row\" className={classes.tableCell}>\n//                           {data.pred_class}\n//                         </TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell}>{confidence}%</TableCell>\n//                       </TableRow>\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </CardContent>}\n//               {isLoading && <CardContent className={classes.detail}>\n//                 <CircularProgress color=\"secondary\" className={classes.loader} />\n//                 <Typography className={classes.title} variant=\"h6\" noWrap>\n//                   Processing\n//                 </Typography>\n//               </CardContent>}\n//             </Card>\n//           </Grid>\n//           {data &&\n//             <Grid item className={classes.buttonGrid} >\n//               <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" component=\"span\" size=\"large\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>\n//                 Clear\n//               </ColorButton>\n//             </Grid>}\n//         </Grid >\n//       </Container >\n//     </React.Fragment >\n//   );\n// };\n// import React, { useState, useEffect, useCallback } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import {\n//   Paper,\n//   CardActionArea,\n//   CardMedia,\n//   Grid,\n//   TableContainer,\n//   Table,\n//   TableBody,\n//   TableHead,\n//   TableRow,\n//   TableCell,\n//   Button,\n//   CircularProgress\n// } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from \"material-ui-dropzone\";\n// import { common } from \"@material-ui/core/colors\";\n// import Clear from \"@material-ui/icons/Clear\";\n// import axios from \"axios\";\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     \"&:hover\": {\n//       backgroundColor: \"#ffffff7a\",\n//     },\n//   },\n// }))(Button);\n// const useStyles = makeStyles((theme) => ({\n//   grow: { flexGrow: 1 },\n//   clearButton: {\n//     width: \"100%\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: \"no-repeat\",\n//     backgroundPosition: \"center\",\n//     backgroundSize: \"cover\",\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: \"transparent\",\n//     boxShadow: \"0px 9px 70px 0px rgb(0 0 0 / 30%) !important\",\n//     borderRadius: \"15px\",\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   appbar: {\n//     background: \"#be6a77\",\n//     boxShadow: \"none\",\n//     color: \"white\",\n//   },\n//   loader: {\n//     color: \"#be6a77 !important\",\n//   },\n//   tableCell: {\n//     fontSize: \"18px\",\n//     color: \"#000000a6 !important\",\n//     fontWeight: \"bolder\",\n//     backgroundColor: \"transparent !important\",\n//   },\n//   text: {\n//     color: \"white !important\",\n//     textAlign: \"center\",\n//   },\n// }));\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsLoading] = useState(false);\n//   // ✅ Full disease precautions (8 classes)\n//   const [diseasePrecautions, setDiseasePrecautions] = useState({});\n//   useEffect(() => {\n//     const fetchRemedies = async () => {\n//       try {\n//         const res = await axios.get(\"http://localhost:8000/remedies\");\n//         if (res.status === 200) setDiseasePrecautions(res.data);\n//       } catch (error) {\n//         console.error(\"Error loading remedies.json:\", error);\n//       }\n//     };\n//     fetchRemedies();\n//   }, []);\n//   // ✅ Backend endpoint (update if different)\n//   const API_URL = \"http://localhost:8000/predict\";\n//   const sendFile = useCallback(async () => {\n//     if (image && selectedFile) {\n//       try {\n//         setIsLoading(true);\n//         const formData = new FormData();\n//         formData.append(\"file\", selectedFile);\n//         const res = await axios.post(API_URL, formData, {\n//           headers: { \"Content-Type\": \"multipart/form-data\" },\n//         });\n//         if (res.status === 200) setData(res.data);\n//       } catch (error) {\n//         console.error(\"Prediction Error:\", error);\n//         alert(\"Prediction failed. Check backend server or model endpoint.\");\n//       } finally {\n//         setIsLoading(false);\n//       }\n//     }\n//   }, [image, selectedFile]);\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n//   useEffect(() => {\n//     if (preview) sendFile();\n//   }, [preview, sendFile]);\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       clearData();\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n//   const confidence = data ? (parseFloat(data.pred_conf) * 100).toFixed(2) : 0;\n//   const getPrecaution = () =>\n//     data ? diseasePrecautions[data.pred_class] || \"No precautions available.\" : \"\";\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={classes.imageCard}>\n//               {image && !isLoading && (\n//                 <CardActionArea>\n//                   <CardMedia\n//                     className={classes.media}\n//                     image={preview}\n//                     component=\"img\"\n//                     title=\"Tomato leaf\"\n//                   />\n//                 </CardActionArea>\n//               )}\n//               {!image && !isLoading && (\n//                 <CardContent>\n//                   <DropzoneArea\n//                     acceptedFiles={[\"image/*\"]}\n//                     dropzoneText={\"Drag and drop a tomato leaf image here\"}\n//                     onChange={onSelectFile}\n//                   />\n//                 </CardContent>\n//               )}\n//               {isLoading && (\n//                 <CardContent className={classes.detail}>\n//                   <CircularProgress color=\"secondary\" className={classes.loader} />\n//                   <Typography variant=\"h6\">Processing...</Typography>\n//                 </CardContent>\n//               )}\n//               {data && !isLoading && (\n//                 <CardContent className={classes.detail}>\n//                   <TableContainer component={Paper} elevation={0}>\n//                     <Table size=\"small\">\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>Disease</TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             Confidence\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>\n//                             {data.pred_class}\n//                           </TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             {confidence}%\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n//                   <Typography variant=\"body1\" className={classes.text} style={{ marginTop: \"1em\" }}>\n//                     <strong>Precautions:</strong> {getPrecaution()}\n//                   </Typography>\n//                 </CardContent>\n//               )}\n//             </Card>\n//           </Grid>\n//           {data && !isLoading && (\n//             <Grid item className={classes.buttonGrid}>\n//               <ColorButton\n//                 variant=\"contained\"\n//                 className={classes.clearButton}\n//                 color=\"primary\"\n//                 onClick={clearData}\n//                 startIcon={<Clear fontSize=\"large\" />}\n//               >\n//                 Clear\n//               </ColorButton>\n//             </Grid>\n//           )}\n//         </Grid>\n//       </Container>\n//     </React.Fragment>\n//   );\n// };","map":{"version":3,"sources":["/Users/maheshpatil/Desktop/capstone/tomato-disease-detection/web-page/src/home.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import { useState, useEffect } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import React from \"react\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import { Paper, CardActionArea, CardMedia, Grid, TableContainer, Table, TableBody, TableHead, TableRow, TableCell, Button, CircularProgress } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from 'material-ui-dropzone';\n// import { common } from '@material-ui/core/colors';\n// import Clear from '@material-ui/icons/Clear';\n\n\n\n\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     '&:hover': {\n//       backgroundColor: '#ffffff7a',\n//     },\n//   },\n// }))(Button);\n// const axios = require(\"axios\").default;\n\n// const useStyles = makeStyles((theme) => ({\n//   grow: {\n//     flexGrow: 1,\n//   },\n//   clearButton: {\n//     width: \"-webkit-fill-available\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   root: {\n//     maxWidth: 345,\n//     flexGrow: 1,\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   paper: {\n//     padding: theme.spacing(2),\n//     margin: 'auto',\n//     maxWidth: 500,\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em 1em 0 1em\",\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: 'no-repeat',\n//     backgroundPosition: 'center',\n//     backgroundSize: 'cover',\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: 'transparent',\n//     boxShadow: '0px 9px 70px 0px rgb(0 0 0 / 30%) !important',\n//     borderRadius: '15px',\n//   },\n//   imageCardEmpty: {\n//     height: 'auto',\n//   },\n//   noImage: {\n//     margin: \"auto\",\n//     width: 400,\n//     height: \"400 !important\",\n//   },\n//   input: {\n//     display: 'none',\n//   },\n//   uploadIcon: {\n//     background: 'white',\n//   },\n//   tableContainer: {\n//     backgroundColor: 'transparent !important',\n//     boxShadow: 'none !important',\n//   },\n//   table: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableHead: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableRow: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   tableCell: {\n//     fontSize: '20px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableCell1: {\n//     fontSize: '14px',\n//     backgroundColor: 'transparent !important',\n//     borderColor: 'transparent !important',\n//     color: '#000000a6 !important',\n//     fontWeight: 'bolder',\n//     padding: '1px 24px 1px 16px',\n//   },\n//   tableBody: {\n//     backgroundColor: 'transparent !important',\n//   },\n//   text: {\n//     color: 'white !important',\n//     textAlign: 'center',\n//   },\n//   buttonGrid: {\n//     maxWidth: \"416px\",\n//     width: \"100%\",\n//   },\n//   detail: {\n//     backgroundColor: 'white',\n//     display: 'flex',\n//     justifyContent: 'center',\n//     flexDirection: 'column',\n//     alignItems: 'center',\n//   },\n//   appbar: {\n//     background: '#be6a77',\n//     boxShadow: 'none',\n//     color: 'white'\n//   },\n//   loader: {\n//     color: '#be6a77 !important',\n//   }\n// }));\n\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsloading] = useState(false);\n//   let confidence = 0;\n\n//   const sendFile = async () => {\n//     if (image) {\n//       let formData = new FormData();\n//       formData.append(\"file\", selectedFile);\n//       let res = await axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_API_URL,\n//         data: formData,\n//       });\n//       if (res.status === 200) {\n//         setData(res.data);\n//       }\n//       setIsloading(false);\n//     }\n//   }\n\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n\n//   useEffect(() => {\n//     if (!preview) {\n//       return;\n//     }\n//     setIsloading(true);\n//     sendFile();\n//   }, [preview]);\n\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       setSelectedFile(undefined);\n//       setImage(false);\n//       setData(undefined);\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n\n//   if (data) {\n//     confidence = (parseFloat(data.pred_conf) * 100).toFixed(2);\n//   }\n\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography className={classes.title} variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters={true}>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={`${classes.imageCard} ${!image ? classes.imageCardEmpty : ''}`}>\n//               {image && <CardActionArea>\n//                 <CardMedia\n//                   className={classes.media}\n//                   image={preview}\n//                   component=\"image\"\n//                   title=\"Tomato leaf\"\n//                 />\n//               </CardActionArea>\n//               }\n//               {!image && <CardContent className={classes.content}>\n//                 <DropzoneArea\n//                   acceptedFiles={['image/*']}\n//                   dropzoneText={\"Drag and drop an image of a tomato leaf\"}\n//                   onChange={onSelectFile}\n//                 />\n//               </CardContent>}\n//               {data && <CardContent className={classes.detail}>\n//                 <TableContainer component={Paper} className={classes.tableContainer}>\n//                   <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n//                     <TableHead className={classes.tableHead}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell className={classes.tableCell1}>Label:</TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell1}>Confidence:</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody className={classes.tableBody}>\n//                       <TableRow className={classes.tableRow}>\n//                         <TableCell component=\"th\" scope=\"row\" className={classes.tableCell}>\n//                           {data.pred_class}\n//                         </TableCell>\n//                         <TableCell align=\"right\" className={classes.tableCell}>{confidence}%</TableCell>\n//                       </TableRow>\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </CardContent>}\n//               {isLoading && <CardContent className={classes.detail}>\n//                 <CircularProgress color=\"secondary\" className={classes.loader} />\n//                 <Typography className={classes.title} variant=\"h6\" noWrap>\n//                   Processing\n//                 </Typography>\n//               </CardContent>}\n//             </Card>\n//           </Grid>\n//           {data &&\n//             <Grid item className={classes.buttonGrid} >\n\n//               <ColorButton variant=\"contained\" className={classes.clearButton} color=\"primary\" component=\"span\" size=\"large\" onClick={clearData} startIcon={<Clear fontSize=\"large\" />}>\n//                 Clear\n//               </ColorButton>\n//             </Grid>}\n//         </Grid >\n//       </Container >\n//     </React.Fragment >\n//   );\n// };\n\n\n// import React, { useState, useEffect, useCallback } from \"react\";\n// import { makeStyles, withStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\n// import Toolbar from \"@material-ui/core/Toolbar\";\n// import Typography from \"@material-ui/core/Typography\";\n// import Avatar from \"@material-ui/core/Avatar\";\n// import Container from \"@material-ui/core/Container\";\n// import Card from \"@material-ui/core/Card\";\n// import CardContent from \"@material-ui/core/CardContent\";\n// import {\n//   Paper,\n//   CardActionArea,\n//   CardMedia,\n//   Grid,\n//   TableContainer,\n//   Table,\n//   TableBody,\n//   TableHead,\n//   TableRow,\n//   TableCell,\n//   Button,\n//   CircularProgress\n// } from \"@material-ui/core\";\n// import tomatoImg from \"./tomato.jpg\";\n// import bgImg from \"./bg.png\";\n// import { DropzoneArea } from \"material-ui-dropzone\";\n// import { common } from \"@material-ui/core/colors\";\n// import Clear from \"@material-ui/icons/Clear\";\n// import axios from \"axios\";\n\n// const ColorButton = withStyles((theme) => ({\n//   root: {\n//     color: theme.palette.getContrastText(common.white),\n//     backgroundColor: common.white,\n//     \"&:hover\": {\n//       backgroundColor: \"#ffffff7a\",\n//     },\n//   },\n// }))(Button);\n\n// const useStyles = makeStyles((theme) => ({\n//   grow: { flexGrow: 1 },\n//   clearButton: {\n//     width: \"100%\",\n//     borderRadius: \"15px\",\n//     padding: \"15px 22px\",\n//     color: \"#000000a6\",\n//     fontSize: \"20px\",\n//     fontWeight: 900,\n//   },\n//   mainContainer: {\n//     backgroundImage: `url(${bgImg})`,\n//     backgroundRepeat: \"no-repeat\",\n//     backgroundPosition: \"center\",\n//     backgroundSize: \"cover\",\n//     height: \"93vh\",\n//     marginTop: \"8px\",\n//   },\n//   gridContainer: {\n//     justifyContent: \"center\",\n//     padding: \"1em\",\n//   },\n//   imageCard: {\n//     margin: \"auto\",\n//     maxWidth: 400,\n//     height: 500,\n//     backgroundColor: \"transparent\",\n//     boxShadow: \"0px 9px 70px 0px rgb(0 0 0 / 30%) !important\",\n//     borderRadius: \"15px\",\n//   },\n//   media: {\n//     height: 400,\n//   },\n//   appbar: {\n//     background: \"#be6a77\",\n//     boxShadow: \"none\",\n//     color: \"white\",\n//   },\n//   loader: {\n//     color: \"#be6a77 !important\",\n//   },\n//   tableCell: {\n//     fontSize: \"18px\",\n//     color: \"#000000a6 !important\",\n//     fontWeight: \"bolder\",\n//     backgroundColor: \"transparent !important\",\n//   },\n//   text: {\n//     color: \"white !important\",\n//     textAlign: \"center\",\n//   },\n// }));\n\n// export const ImageUpload = () => {\n//   const classes = useStyles();\n//   const [selectedFile, setSelectedFile] = useState();\n//   const [preview, setPreview] = useState();\n//   const [data, setData] = useState();\n//   const [image, setImage] = useState(false);\n//   const [isLoading, setIsLoading] = useState(false);\n\n//   // ✅ Full disease precautions (8 classes)\n//   const [diseasePrecautions, setDiseasePrecautions] = useState({});\n\n//   useEffect(() => {\n//     const fetchRemedies = async () => {\n//       try {\n//         const res = await axios.get(\"http://localhost:8000/remedies\");\n//         if (res.status === 200) setDiseasePrecautions(res.data);\n//       } catch (error) {\n//         console.error(\"Error loading remedies.json:\", error);\n//       }\n//     };\n//     fetchRemedies();\n//   }, []);\n\n//   // ✅ Backend endpoint (update if different)\n//   const API_URL = \"http://localhost:8000/predict\";\n\n//   const sendFile = useCallback(async () => {\n//     if (image && selectedFile) {\n//       try {\n//         setIsLoading(true);\n//         const formData = new FormData();\n//         formData.append(\"file\", selectedFile);\n\n//         const res = await axios.post(API_URL, formData, {\n//           headers: { \"Content-Type\": \"multipart/form-data\" },\n//         });\n\n//         if (res.status === 200) setData(res.data);\n//       } catch (error) {\n//         console.error(\"Prediction Error:\", error);\n//         alert(\"Prediction failed. Check backend server or model endpoint.\");\n//       } finally {\n//         setIsLoading(false);\n//       }\n//     }\n//   }, [image, selectedFile]);\n\n//   const clearData = () => {\n//     setData(null);\n//     setImage(false);\n//     setSelectedFile(null);\n//     setPreview(null);\n//   };\n\n//   useEffect(() => {\n//     if (!selectedFile) {\n//       setPreview(undefined);\n//       return;\n//     }\n//     const objectUrl = URL.createObjectURL(selectedFile);\n//     setPreview(objectUrl);\n//   }, [selectedFile]);\n\n//   useEffect(() => {\n//     if (preview) sendFile();\n//   }, [preview, sendFile]);\n\n//   const onSelectFile = (files) => {\n//     if (!files || files.length === 0) {\n//       clearData();\n//       return;\n//     }\n//     setSelectedFile(files[0]);\n//     setData(undefined);\n//     setImage(true);\n//   };\n\n//   const confidence = data ? (parseFloat(data.pred_conf) * 100).toFixed(2) : 0;\n//   const getPrecaution = () =>\n//     data ? diseasePrecautions[data.pred_class] || \"No precautions available.\" : \"\";\n\n//   return (\n//     <React.Fragment>\n//       <AppBar position=\"static\" className={classes.appbar}>\n//         <Toolbar>\n//           <Typography variant=\"h6\" noWrap>\n//             Tomato Disease Detection\n//           </Typography>\n//           <div className={classes.grow} />\n//           <Avatar src={tomatoImg}></Avatar>\n//         </Toolbar>\n//       </AppBar>\n\n//       <Container maxWidth={false} className={classes.mainContainer} disableGutters>\n//         <Grid\n//           className={classes.gridContainer}\n//           container\n//           direction=\"row\"\n//           justifyContent=\"center\"\n//           alignItems=\"center\"\n//           spacing={2}\n//         >\n//           <Grid item xs={12}>\n//             <Card className={classes.imageCard}>\n//               {image && !isLoading && (\n//                 <CardActionArea>\n//                   <CardMedia\n//                     className={classes.media}\n//                     image={preview}\n//                     component=\"img\"\n//                     title=\"Tomato leaf\"\n//                   />\n//                 </CardActionArea>\n//               )}\n\n//               {!image && !isLoading && (\n//                 <CardContent>\n//                   <DropzoneArea\n//                     acceptedFiles={[\"image/*\"]}\n//                     dropzoneText={\"Drag and drop a tomato leaf image here\"}\n//                     onChange={onSelectFile}\n//                   />\n//                 </CardContent>\n//               )}\n\n//               {isLoading && (\n//                 <CardContent className={classes.detail}>\n//                   <CircularProgress color=\"secondary\" className={classes.loader} />\n//                   <Typography variant=\"h6\">Processing...</Typography>\n//                 </CardContent>\n//               )}\n\n//               {data && !isLoading && (\n//                 <CardContent className={classes.detail}>\n//                   <TableContainer component={Paper} elevation={0}>\n//                     <Table size=\"small\">\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>Disease</TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             Confidence\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         <TableRow>\n//                           <TableCell className={classes.tableCell}>\n//                             {data.pred_class}\n//                           </TableCell>\n//                           <TableCell align=\"right\" className={classes.tableCell}>\n//                             {confidence}%\n//                           </TableCell>\n//                         </TableRow>\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n\n//                   <Typography variant=\"body1\" className={classes.text} style={{ marginTop: \"1em\" }}>\n//                     <strong>Precautions:</strong> {getPrecaution()}\n//                   </Typography>\n//                 </CardContent>\n//               )}\n//             </Card>\n//           </Grid>\n\n//           {data && !isLoading && (\n//             <Grid item className={classes.buttonGrid}>\n//               <ColorButton\n//                 variant=\"contained\"\n//                 className={classes.clearButton}\n//                 color=\"primary\"\n//                 onClick={clearData}\n//                 startIcon={<Clear fontSize=\"large\" />}\n//               >\n//                 Clear\n//               </ColorButton>\n//             </Grid>\n//           )}\n//         </Grid>\n//       </Container>\n//     </React.Fragment>\n//   );\n// };\n"]},"metadata":{},"sourceType":"module"}